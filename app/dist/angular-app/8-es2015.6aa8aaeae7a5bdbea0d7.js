(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{xyyl:function(e,t,a){"use strict";a.r(t),a.d(t,"PerfilRoutingModule",(function(){return rt}));var i=a("tyNb"),r=a("fXoL"),s=a("vRae"),c=a("ofXK"),o=a("sYmb");const n=function(e){return{"background-image":e}};let l=(()=>{class e{constructor(e){this.authService=e}ngOnInit(){}get getUsuarioLogado(){return this.authService.usuarioLogadoValue}}return e.ROTA="perfil",e.\u0275fac=function(t){return new(t||e)(r.Rb(s.a))},e.\u0275cmp=r.Lb({type:e,selectors:[["app-perfil"]],decls:78,vars:37,consts:[[1,"d-flex","flex-row"],["id","kt_profile_aside",1,"flex-row-auto","offcanvas-mobile","w-250px","w-xxl-350px"],[1,"card","card-custom","card-stretch"],[1,"card-body","pt-4"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-60","symbol-xxl-100","mr-5","align-self-start","align-self-xxl-center"],[1,"symbol-label",3,"ngStyle"],[1,"symbol-badge","bg-success"],["href","#",1,"font-weight-bolder","font-size-h5","text-dark-75","text-hover-primary"],[1,"text-muted"],[1,"py-9"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"font-weight-bold","mr-2"],["href","#",1,"text-muted","text-hover-primary"],[1,"navi","navi-bold","navi-hover","navi-link-rounded","navi-active"],[1,"navi-item","mb-2"],["routerLink","/admin/perfil/informacao-pessoal","routerLinkActive","active",1,"navi-link","py-4"],[1,"navi-icon","mr-2"],[1,"svg-icon"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","24px","height","24px","viewBox","0 0 24 24","version","1.1"],["stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["x","0","y","0","width","24","height","24"],["d","M2.56066017,10.6819805 L4.68198052,8.56066017 C5.26776695,7.97487373 6.21751442,7.97487373 6.80330086,8.56066017 L8.9246212,10.6819805 C9.51040764,11.267767 9.51040764,12.2175144 8.9246212,12.8033009 L6.80330086,14.9246212 C6.21751442,15.5104076 5.26776695,15.5104076 4.68198052,14.9246212 L2.56066017,12.8033009 C1.97487373,12.2175144 1.97487373,11.267767 2.56066017,10.6819805 Z M14.5606602,10.6819805 L16.6819805,8.56066017 C17.267767,7.97487373 18.2175144,7.97487373 18.8033009,8.56066017 L20.9246212,10.6819805 C21.5104076,11.267767 21.5104076,12.2175144 20.9246212,12.8033009 L18.8033009,14.9246212 C18.2175144,15.5104076 17.267767,15.5104076 16.6819805,14.9246212 L14.5606602,12.8033009 C13.9748737,12.2175144 13.9748737,11.267767 14.5606602,10.6819805 Z","fill","#000000","opacity","0.3"],["d","M8.56066017,16.6819805 L10.6819805,14.5606602 C11.267767,13.9748737 12.2175144,13.9748737 12.8033009,14.5606602 L14.9246212,16.6819805 C15.5104076,17.267767 15.5104076,18.2175144 14.9246212,18.8033009 L12.8033009,20.9246212 C12.2175144,21.5104076 11.267767,21.5104076 10.6819805,20.9246212 L8.56066017,18.8033009 C7.97487373,18.2175144 7.97487373,17.267767 8.56066017,16.6819805 Z M8.56066017,4.68198052 L10.6819805,2.56066017 C11.267767,1.97487373 12.2175144,1.97487373 12.8033009,2.56066017 L14.9246212,4.68198052 C15.5104076,5.26776695 15.5104076,6.21751442 14.9246212,6.80330086 L12.8033009,8.9246212 C12.2175144,9.51040764 11.267767,9.51040764 10.6819805,8.9246212 L8.56066017,6.80330086 C7.97487373,6.21751442 7.97487373,5.26776695 8.56066017,4.68198052 Z","fill","#000000"],[1,"navi-text","font-size-lg"],["routerLink","/admin/perfil/alterar-senha","routerLinkActive","active",1,"navi-link","py-4"],["d","M4,4 L11.6314229,2.5691082 C11.8750185,2.52343403 12.1249815,2.52343403 12.3685771,2.5691082 L20,4 L20,13.2830094 C20,16.2173861 18.4883464,18.9447835 16,20.5 L12.5299989,22.6687507 C12.2057287,22.8714196 11.7942713,22.8714196 11.4700011,22.6687507 L8,20.5 C5.51165358,18.9447835 4,16.2173861 4,13.2830094 L4,4 Z","fill","#000000","opacity","0.3"],["d","M12,11 C10.8954305,11 10,10.1045695 10,9 C10,7.8954305 10.8954305,7 12,7 C13.1045695,7 14,7.8954305 14,9 C14,10.1045695 13.1045695,11 12,11 Z","fill","#000000","opacity","0.3"],["d","M7.00036205,16.4995035 C7.21569918,13.5165724 9.36772908,12 11.9907452,12 C14.6506758,12 16.8360465,13.4332455 16.9988413,16.5 C17.0053266,16.6221713 16.9988413,17 16.5815,17 C14.5228466,17 11.463736,17 7.4041679,17 C7.26484009,17 6.98863236,16.6619875 7.00036205,16.4995035 Z","fill","#000000","opacity","0.3"],["routerLink","/admin/perfil/telefone","routerLinkActive","active",1,"navi-link","py-4"],["d","M7.13888889,4 L7.13888889,19 L16.8611111,19 L16.8611111,4 L7.13888889,4 Z M7.83333333,1 L16.1666667,1 C17.5729473,1 18.25,1.98121694 18.25,3.5 L18.25,20.5 C18.25,22.0187831 17.5729473,23 16.1666667,23 L7.83333333,23 C6.42705272,23 5.75,22.0187831 5.75,20.5 L5.75,3.5 C5.75,1.98121694 6.42705272,1 7.83333333,1 Z","fill","#000000","fill-rule","nonzero"],["fill","#000000","opacity","0.3","points","7 4 7 19 17 19 17 4"],["fill","#000000","cx","12","cy","21","r","1"],["routerLink","/admin/perfil/endereco","routerLinkActive","active",1,"navi-link","py-4"],["d","M5,10.5 C5,6 8,3 12.5,3 C17,3 20,6.75 20,10.5 C20,12.8325623 17.8236613,16.03566 13.470984,20.1092932 C12.9154018,20.6292577 12.0585054,20.6508331 11.4774555,20.1594925 C7.15915182,16.5078313 5,13.2880005 5,10.5 Z M12.5,12 C13.8807119,12 15,10.8807119 15,9.5 C15,8.11928813 13.8807119,7 12.5,7 C11.1192881,7 10,8.11928813 10,9.5 C10,10.8807119 11.1192881,12 12.5,12 Z","fill","#000000","fill-rule","nonzero"],[1,"flex-row-fluid","ml-lg-8"]],template:function(e,t){1&e&&(r.Xb(0,"div",0),r.Xb(1,"div",1),r.Xb(2,"div",2),r.Xb(3,"div",3),r.Xb(4,"div",4),r.Xb(5,"div",5),r.Sb(6,"div",6),r.Sb(7,"i",7),r.Wb(),r.Xb(8,"div"),r.Xb(9,"a",8),r.Pc(10),r.oc(11,"titlecase"),r.Wb(),r.Xb(12,"div",9),r.Pc(13),r.oc(14,"titlecase"),r.Wb(),r.Wb(),r.Wb(),r.Xb(15,"div",10),r.Xb(16,"div",11),r.Xb(17,"span",12),r.Pc(18),r.oc(19,"translate"),r.Wb(),r.Xb(20,"a",13),r.Pc(21),r.Wb(),r.Wb(),r.Wb(),r.Xb(22,"div",14),r.Xb(23,"div",15),r.Xb(24,"a",16),r.oc(25,"translate"),r.Xb(26,"span",17),r.Xb(27,"span",18),r.mc(),r.Xb(28,"svg",19),r.Xb(29,"g",20),r.Sb(30,"rect",21),r.Sb(31,"path",22),r.Sb(32,"path",23),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.lc(),r.Xb(33,"span",24),r.Pc(34),r.oc(35,"translate"),r.Wb(),r.Wb(),r.Wb(),r.Xb(36,"div",15),r.Xb(37,"a",25),r.oc(38,"translate"),r.Xb(39,"span",17),r.Xb(40,"span",18),r.mc(),r.Xb(41,"svg",19),r.Xb(42,"g",20),r.Sb(43,"rect",21),r.Sb(44,"path",26),r.Sb(45,"path",27),r.Sb(46,"path",28),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.lc(),r.Xb(47,"span",24),r.Pc(48),r.oc(49,"translate"),r.Wb(),r.Wb(),r.Wb(),r.Xb(50,"div",15),r.Xb(51,"a",29),r.oc(52,"translate"),r.Xb(53,"span",17),r.Xb(54,"span",18),r.mc(),r.Xb(55,"svg",19),r.Xb(56,"g",20),r.Sb(57,"rect",21),r.Sb(58,"path",30),r.Sb(59,"polygon",31),r.Sb(60,"circle",32),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.lc(),r.Xb(61,"span",24),r.Pc(62),r.oc(63,"translate"),r.Wb(),r.Wb(),r.Wb(),r.Xb(64,"div",15),r.Xb(65,"a",33),r.oc(66,"translate"),r.Xb(67,"span",17),r.Xb(68,"span",18),r.mc(),r.Xb(69,"svg",19),r.Xb(70,"g",20),r.Sb(71,"rect",21),r.Sb(72,"path",34),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.lc(),r.Xb(73,"span",24),r.Pc(74),r.oc(75,"translate"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(76,"div",35),r.Sb(77,"router-outlet"),r.Wb(),r.Wb()),2&e&&(r.Cb(6),r.tc("ngStyle",r.xc(35,n,"url("+t.getUsuarioLogado.arquivoCaminho+")")),r.Cb(4),r.Qc(r.pc(11,13,t.getUsuarioLogado.nome)),r.Cb(3),r.Qc(r.pc(14,15,t.getUsuarioLogado.grupoNome)),r.Cb(5),r.Rc("",r.pc(19,17,"MSG000003.descricao"),":"),r.Cb(3),r.Qc(t.getUsuarioLogado.email),r.Cb(3),r.Db("title",r.pc(25,19,"MSG000088.descricao")),r.Cb(10),r.Qc(r.pc(35,21,"MSG000088.descricao")),r.Cb(3),r.Db("title",r.pc(38,23,"MSG000089.descricao")),r.Cb(11),r.Qc(r.pc(49,25,"MSG000089.descricao")),r.Cb(3),r.Db("title",r.pc(52,27,"MSG000243.descricao")),r.Cb(11),r.Qc(r.pc(63,29,"MSG000243.descricao")),r.Cb(3),r.Db("title",r.pc(66,31,"MSG000244.descricao")),r.Cb(9),r.Qc(r.pc(75,33,"MSG000244.descricao")))},directives:[c.x,i.f,i.e,i.h],pipes:[c.G,o.d],styles:[""]}),e})();var b=a("3Pt+"),d=a("rIor"),h=a("AytR"),u=a("lJxs"),p=a("un/a"),m=a("ivuu"),v=a("tk/3");let f=(()=>{class e extends m.a{constructor(e){super(e),this.http=e}obterPerfil(){return this.http.get(`${h.a.apiUrl}/${e.API_PERFIL}`).pipe(Object(u.a)(e=>e))}atualizarPerfil(t){return this.http.put(`${h.a.apiUrl}/${e.API_PERFIL}`,t,{headers:this.httpHeaders}).pipe(Object(p.a)(1),Object(u.a)(e=>e))}alterarSenha(t){return this.http.patch(`${h.a.apiUrl}/${e.API_PERFIL_ALTERAR_SENHA}`,t,{headers:this.httpHeaders}).pipe(Object(p.a)(1),Object(u.a)(e=>e))}ativarPerfil(t){return this.http.patch(`${h.a.apiUrl}/${e.API_PERFIL}/ativar/${t}`,t,{headers:this.httpHeaders}).pipe(Object(p.a)(1),Object(u.a)(e=>e))}}return e.API_PERFIL="api/v1/perfil",e.API_PERFIL_ALTERAR_SENHA="api/v1/perfil/alterar-senha",e.\u0275fac=function(t){return new(t||e)(r.fc(v.b))},e.\u0275prov=r.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var S=a("1kSV"),g=a("Swr4"),C=a("33SE"),G=a("tmjD"),M=a("fktz"),X=a("BLWB"),W=a("3sZV"),I=a("pxUr");let x=(()=>{class e{}return e.\u0275mod=r.Pb({type:e}),e.\u0275inj=r.Ob({factory:function(t){return new(t||e)},providers:[I.d,f,[g.b,{provide:S.k,useClass:g.a}],[{provide:S.h,useClass:C.a}]],imports:[[W.a,I.a.forRoot({apiKey:"AIzaSyAnfAgMAUaZSg4Eu9V9AKGGD9zcdrbO-CI"}),c.c,i.g,b.l,S.u,b.B,X.a,o.c.forChild(),G.c.forRoot(),M.b,d.b]]}),e})();var R=a("ZOCX"),A=a("f9+y"),y=a("4iXa"),E=a("LRne"),L=a("cp0P"),P=a("JIr8"),k=a("mvxn"),w=a("IpSy"),N=a("Olgc"),F=a("acRR");let O=(()=>{class e extends m.a{constructor(e){super(e),this.http=e,this.httpHeaders=new v.d,this.httpHeaders=this.httpHeaders.set("Content-Type","application/json")}salvarEndereco(e){return e.id>0?this.atualizarEndereco(e):this.adicionarEndereco(e)}adicionarEndereco(e){return this.http.post(`${h.a.apiUrl}/${k.a.API_USUARIOS}/${e.usuarioId}/enderecos`,e,{headers:this.httpHeaders}).pipe(Object(u.a)(e=>e))}deletarEndereco(e,t){return this.http.delete(`${h.a.apiUrl}/${k.a.API_USUARIOS}/${e}/enderecos`,{headers:this.httpHeaders,body:t}).pipe(Object(u.a)(e=>e))}obterEnderecoId(e,t){return this.http.get(`${h.a.apiUrl}/${k.a.API_USUARIOS}/${e}/enderecos/${t}`).pipe(Object(u.a)(e=>e))}statusEndereco(e,t,a){return this.http.patch(`${h.a.apiUrl}/${k.a.API_USUARIOS}/${e}/enderecos/${t}/status`,a,{headers:this.httpHeaders}).pipe(Object(u.a)(e=>e))}atualizarEndereco(e){return this.http.put(`${h.a.apiUrl}/${k.a.API_USUARIOS}/${e.usuarioId}/enderecos/${e.id}`,e,{headers:this.httpHeaders}).pipe(Object(u.a)(e=>e))}obterEnderecos(e){return this.http.get(`${h.a.apiUrl}/${k.a.API_USUARIOS}/${e}/enderecos`).pipe(Object(u.a)(e=>e))}obterTotalEnderecos(e){return this.http.get(`${h.a.apiUrl}/${k.a.API_USUARIOS}/${e}/enderecos/total`).pipe(Object(u.a)(e=>e))}}return e.API_TELEFONE="api/v1/enderecos",e.\u0275fac=function(t){return new(t||e)(r.fc(v.b))},e.\u0275prov=r.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var H=a("zkvF"),T=a("aKpc"),U=a("+xoB"),z=a("Qu2h"),$=a("gIiy"),_=a("oZQ+");let j=(()=>{class e extends A.a{constructor(e,t,a,i,r,s,c,o,n,l,b,d,h,u,p){super(a,s,i,n,l,d),this.bairroService=e,this.toastService=t,this.fb=a,this.translateService=i,this.authService=r,this.router=s,this.route=c,this.activeRoute=o,this.messageService=n,this.modalService=l,this.enderecoService=b,this.utilService=d,this.subheaderService=h,this.gridService=u,this.localidadeService=p,this.statusList=[],this.tipoList=[],this.cidadeList=[],this.unidadeFederativasList=[],this.usuarioId=this.authService.usuarioLogadoValue.id}carregarComboStatus(){this.enderecoService.obterStatus().subscribe(e=>{e.result.forEach(e=>{this.statusList.push({id:e.valor,text:e.descricao})})},e=>{this.setError(e)})}carregarComboMunicipios(){this.cidadeList=[],this.localidadeService.obterMunicipios(this.form.controls.ufId.value).subscribe(e=>{e.result.sort(this.utilService.dynamicSort("nome")).forEach(e=>{this.cidadeList.push({id:e.id,text:e.nome})})},e=>{this.setError(e)})}carregarComboUnidadeFederativas(){this.localidadeService.obterEstados().subscribe(e=>{e.result.sort(this.utilService.dynamicSort("nome")).forEach(e=>{this.unidadeFederativasList.push({id:e.id,text:e.nome})})},e=>{this.setError(e)})}carregarComboTipos(){this.enderecoService.obterTipoEnderecos().subscribe(e=>{e.result.forEach(e=>{this.tipoList.push({id:e.valor,text:e.descricao})})},e=>{this.setError(e)})}criarForm(){this.form=this.fb.group({enderecoId:[""],titulo:[""],cep:[""],numero:[""],tipo:[""],status:[""],ufId:[""],municipioId:[""],bairro:[""],dataCriacaoInicial:[""],dataCriacaoFinal:[""],dataAtualizacaoInicial:[""],dataAtualizacaoFinal:[""]})}ngOnInit(){this.modalOptions={backdrop:"static",backdropClass:"customBackdrop"},this.translateService.get(["MSG000250.descricao","MSG000154.descricao","MSG000142.descricao","MSG000141.descricao","MSG000136.descricao","MSG000137.descricao","MSG000138.descricao","MSG000150.descricao","MSG000156.descricao","MSG000159.descricao","MSG000160.descricao","MSG000161.descricao","MSG000162.descricao","MSG000243.descricao","MSG000175.descricao","MSG000176.descricao","MSG000117.descricao","MSG000204.descricao","MSG000205.descricao","MSG000212.descricao","MSG000213.descricao","MSG000252.descricao","MSG000251.descricao","MSG000236.descricao","MSG000240.descricao"]).subscribe(e=>{this.mensagens=e,this.criarForm(),this.criarSubheader(),this.carregarPagina()})}filtroAvancado(){var e=this.utilService.validarDataInicialFinal(this.form,"dataCriacaoInicial","dataCriacaoFinal"),t=this.utilService.validarDataInicialFinal(this.form,"dataAtualizacaoInicial","dataAtualizacaoFinal");e&&t?this.filtrarGrid(this.gridService):this.messageService.create(e?"MSG000187":"MSG000186")}criarSubheader(){var t={text:this.mensagens["MSG000154.descricao"],type:R.a.LIGHT_SUCCESS,click:()=>{this.router.navigate([e.ROTA+"/novo"])},icon:"fa fa-plus icon-sm"};this.btnExcluir={text:this.mensagens["MSG000138.descricao"],type:R.a.LIGHT_DANGER,click:()=>{this.deletar(this.gridService.gridDirective.itensSelecionados)},icon:"fa fa-trash-alt icon-sm",visible:!1},this.btnInativar={text:this.mensagens["MSG000137.descricao"],type:R.a.LIGHT_DANGER,click:()=>this.ativar(this.gridService.gridDirective.itensSelecionados),icon:"fa fa-thumbs-down icon-sm",visible:!1},this.btnAtivar={text:this.mensagens["MSG000136.descricao"],type:R.a.LIGHT_SUCCESS,click:()=>this.ativar(this.gridService.gridDirective.itensSelecionados),icon:"fa fa-thumbs-up icon-sm",visible:!1},this.subheader.buttons=[this.btnAtivar,this.btnInativar,this.btnExcluir,t],this.subheader.title=this.mensagens["MSG000243.descricao"],this.subheader.text=this.mensagens["MSG000176.descricao"],this.subheader.label=this.label,this.subheaderService.create(this.subheader)}carregarPagina(){this.editarGridBtn={icon:"flaticon2-edit icon-nm",type:R.a.LIGHT_PRIMARY,visible:!0,title:this.mensagens["MSG000175.descricao"],permission:["endereco.cadastrar","endereco.atualizar"],click:t=>this.router.navigate([`${e.ROTA}/${t.id}`])},this.excluirGridBtn={icon:"fa fa-trash icon-nm",type:R.a.LIGHT_DANGER,title:this.mensagens["MSG000138.descricao"],visible:!0,permission:["endereco.cadastrar","endereco.atualizar"],click:e=>this.deletar([e])},this.carregarComboStatus(),this.carregarComboUnidadeFederativas(),this.carregarComboStatus(),this.carregarComboTipos();var t=new Object;t.apiServiceHttp=`${h.a.apiUrl}/${k.a.API_USUARIOS}/${this.usuarioId}/enderecos${window.location.search}`,t.orderBy="enderecoId",t.orderType="desc",t.columns=[{field:"enderecoId",fakeField:"id",label:this.mensagens["MSG000156.descricao"],sortable:!0},{field:"titulo",label:this.mensagens["MSG000250.descricao"],sortable:!0},{field:"cep",label:this.mensagens["MSG000251.descricao"],sortable:!0},{field:"logradouro",label:this.mensagens["MSG000252.descricao"],sortable:!0},{field:"bairroId",fakeField:"bairroGrid",label:this.mensagens["MSG000240.descricao"],sortable:!0},{field:"tipo",fakeField:"tipoGrid",label:this.mensagens["MSG000236.descricao"],align:"center",sortable:!0},{field:"status",fakeField:"statusGrid",label:this.mensagens["MSG000159.descricao"],align:"center",sortable:!0},{field:"dataAtualizacao",label:this.mensagens["MSG000160.descricao"],align:"center",sortable:!0},{field:"dataCriacao",label:this.mensagens["MSG000161.descricao"],align:"center",sortable:!0},{label:this.mensagens["MSG000162.descricao"],align:"center",actions:[this.editarGridBtn,this.excluirGridBtn]}],t.onSelectedItem=e=>{if(this.btnExcluir.visible=e.length>0,this.btnAtivar.visible=this.btnInativar.visible=!1,e.length>0){var t=e[0];e.every(e=>e.status==t.status)&&(1==t.status?(this.btnAtivar.visible=!1,this.btnInativar.visible=!0):(this.btnAtivar.visible=!0,this.btnInativar.visible=!1))}},t.onBenforeData=e=>{var t=[];return e.forEach(e=>{var a=e;a.statusGrid=this.utilService.createLabelStatus(e.status),a.tipoGrid=this.utilService.createLabelTipoEndereco(e.tipo),this.bairroService.obterBairroId(e.bairroId).subscribe(e=>{a.bairroGrid=e.result.nome}),t.push(a)}),t},this.grid=this.gridService,this.grid.create(t),this.grid.search()}resetGrid(){this.btnAtivar.visible=!1,this.btnInativar.visible=!1,this.btnExcluir.visible=!1,this.gridService.search()}ativar(e){var t=0==e[0].status?1:0,a=[];e.forEach(e=>{a.push(this.enderecoService.statusEndereco(e.usuarioId,e.id,t).pipe(Object(P.a)(e=>Object(E.a)(e))))}),Object(L.a)(a).subscribe(e=>{this.messageService.create(e[0].message),this.resetGrid()})}cancelar(){this.form.reset(),this.filtrarGrid(this.gridService)}deletar(e){const t=this.modalService.open(y.a,this.modalOptions);t.componentInstance.modal={title:this.mensagens["MSG000142.descricao"],conteudo:this.mensagens["MSG000141.descricao"]},t.result.then(()=>{var t=[];e.forEach(e=>{t.push(this.enderecoService.deletarEndereco(e.usuarioId,e.id).pipe(Object(P.a)(e=>Object(E.a)(e))))}),Object(L.a)(t).subscribe(e=>{var t=e.map(e=>e.status.toLowerCase()).indexOf("erro");this.messageService.create(t>-1?e[t].message:e[0].message),this.resetGrid()})},()=>{})}}return e.ROTA="/admin/perfil/endereco",e.\u0275fac=function(t){return new(t||e)(r.Rb(w.a),r.Rb(N.a),r.Rb(b.f),r.Rb(o.e),r.Rb(s.a),r.Rb(i.c),r.Rb(i.a),r.Rb(i.a),r.Rb(F.a),r.Rb(S.t),r.Rb(O),r.Rb(H.a),r.Rb(T.a),r.Rb(U.a),r.Rb(z.a))},e.\u0275cmp=r.Lb({type:e,selectors:[["app-endereco-pesquisar"]],features:[r.zb],decls:117,vars:98,consts:[["isCollapsed","false","icon","flaticon2-search","text","MSG000177.descricao","subtitle","MSG000178.descricao"],["novalidate","novalidate",3,"formGroup","keydown.enter"],[1,"card-body"],[1,"row","mb-6"],[1,"col-lg-3","mb-lg-0","mb-6"],["type","text","formControlName","enderecoId",1,"form-control","datatable-input",3,"placeholder"],["type","text","formControlName","titulo",1,"form-control","datatable-input",3,"placeholder"],["type","text","mask","00.000-000","formControlName","cep",1,"form-control","datatable-input",3,"placeholder"],["type","text","formControlName","logradouro",1,"form-control","datatable-input",3,"placeholder"],["type","number","formControlName","numero",1,"form-control","datatable-input",3,"placeholder"],["formControlName","tipoId",3,"items","placeholder","select"],["formControlName","status",3,"items","allowClear","placeholder"],["formControlName","ufId",3,"items","placeholder","select"],["formControlName","municipioId",3,"disabled","items","placeholder"],["type","text","formControlName","bairro",1,"form-control","datatable-input",3,"placeholder"],[1,"row","mb-8"],[1,"col-lg-6","mb-lg-0","mb-6"],["id","kt_datepicker_5",1,"input-daterange","input-group"],["type","date","formControlName","dataCriacaoInicial","autocomplete","off",1,"form-control","form-control-lg",3,"placeholder"],[1,"input-group-append"],[1,"input-group-text"],[1,"la","la-ellipsis-h"],["type","date","formControlName","dataCriacaoFinal","autocomplete","off",1,"form-control","form-control-lg",3,"placeholder"],[1,"form-text","text-muted"],["type","date","formControlName","dataAtualizacaoInicial","autocomplete","off",1,"form-control","form-control-lg",3,"placeholder"],["type","date","formControlName","dataAtualizacaoFinal","autocomplete","off",1,"form-control","form-control-lg",3,"placeholder"],[1,"card-footer","bg-gray-100","text-left"],[1,"row"],[1,"col-md-12"],["id","kt_search",1,"btn","btn-primary","btn-primary--icon",3,"click"],[1,"la","la-search"],["id","kt_reset",1,"btn","btn-secondary","btn-secondary--icon",3,"click"],[1,"la","la-close"],[3,"gridService"]],template:function(e,t){1&e&&(r.Xb(0,"app-card",0),r.Xb(1,"form",1),r.jc("keydown.enter",(function(){return t.filtrarGrid(t.gridService),!1})),r.Xb(2,"div",2),r.Xb(3,"div",3),r.Xb(4,"div",4),r.Xb(5,"label"),r.Pc(6),r.oc(7,"translate"),r.Wb(),r.Sb(8,"input",5),r.oc(9,"translate"),r.Wb(),r.Xb(10,"div",4),r.Xb(11,"label"),r.Pc(12),r.oc(13,"translate"),r.Wb(),r.Sb(14,"input",6),r.oc(15,"translate"),r.Wb(),r.Xb(16,"div",4),r.Xb(17,"label"),r.Pc(18),r.oc(19,"translate"),r.Wb(),r.Sb(20,"input",7),r.oc(21,"translate"),r.Wb(),r.Xb(22,"div",4),r.Xb(23,"label"),r.Pc(24),r.oc(25,"translate"),r.Wb(),r.Sb(26,"input",8),r.oc(27,"translate"),r.Wb(),r.Wb(),r.Xb(28,"div",3),r.Xb(29,"div",4),r.Xb(30,"label"),r.Pc(31),r.oc(32,"translate"),r.Wb(),r.Sb(33,"input",9),r.oc(34,"translate"),r.Wb(),r.Xb(35,"div",4),r.Xb(36,"label"),r.Pc(37),r.oc(38,"translate"),r.Wb(),r.Xb(39,"ngx-select",10),r.jc("select",(function(){return t.carregarComboTipos()})),r.oc(40,"translate"),r.Wb(),r.Wb(),r.Xb(41,"div",4),r.Xb(42,"label"),r.Pc(43),r.oc(44,"translate"),r.Wb(),r.Sb(45,"ngx-select",11),r.oc(46,"translate"),r.Wb(),r.Wb(),r.Xb(47,"div",3),r.Xb(48,"div",4),r.Xb(49,"label"),r.Pc(50),r.oc(51,"translate"),r.Wb(),r.Xb(52,"ngx-select",12),r.jc("select",(function(){return t.carregarComboMunicipios()})),r.oc(53,"translate"),r.Wb(),r.Wb(),r.Xb(54,"div",4),r.Xb(55,"label"),r.Pc(56),r.oc(57,"translate"),r.Wb(),r.Sb(58,"ngx-select",13),r.oc(59,"translate"),r.Wb(),r.Xb(60,"div",4),r.Xb(61,"label"),r.Pc(62),r.oc(63,"translate"),r.Wb(),r.Sb(64,"input",14),r.oc(65,"translate"),r.Wb(),r.Wb(),r.Xb(66,"div",15),r.Xb(67,"div",16),r.Xb(68,"label"),r.Pc(69),r.oc(70,"translate"),r.Wb(),r.Xb(71,"div",17),r.Sb(72,"input",18),r.oc(73,"translate"),r.Xb(74,"div",19),r.Xb(75,"span",20),r.Sb(76,"i",21),r.Wb(),r.Wb(),r.Sb(77,"input",22),r.oc(78,"translate"),r.Wb(),r.Xb(79,"span",23),r.Pc(80),r.oc(81,"translate"),r.Wb(),r.Wb(),r.Xb(82,"div",16),r.Xb(83,"label"),r.Pc(84),r.oc(85,"translate"),r.Wb(),r.Xb(86,"div",17),r.Sb(87,"input",24),r.oc(88,"translate"),r.Xb(89,"div",19),r.Xb(90,"span",20),r.Sb(91,"i",21),r.Wb(),r.Wb(),r.Sb(92,"input",25),r.oc(93,"translate"),r.Wb(),r.Xb(94,"span",23),r.Pc(95),r.oc(96,"translate"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(97,"div",26),r.Xb(98,"div",27),r.Xb(99,"div",28),r.Xb(100,"button",29),r.jc("click",(function(){return t.filtroAvancado()})),r.Xb(101,"span"),r.Sb(102,"i",30),r.Xb(103,"span"),r.Pc(104),r.oc(105,"translate"),r.Wb(),r.Wb(),r.Wb(),r.Pc(106,"\xa0\xa0 "),r.Xb(107,"button",31),r.jc("click",(function(){return t.cancelar()})),r.Xb(108,"span"),r.Sb(109,"i",32),r.Xb(110,"span"),r.Pc(111),r.oc(112,"translate"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Sb(113,"br"),r.Xb(114,"app-card"),r.Xb(115,"div",2),r.Sb(116,"app-grid",33),r.Wb(),r.Wb()),2&e&&(r.Cb(1),r.tc("formGroup",t.form),r.Cb(5),r.Rc("",r.pc(7,38,"MSG000156.descricao"),":"),r.Cb(2),r.tc("placeholder",r.pc(9,40,"MSG000156.descricao")),r.Cb(4),r.Rc("",r.pc(13,42,"MSG000250.descricao"),":"),r.Cb(2),r.tc("placeholder",r.pc(15,44,"MSG000250.descricao")),r.Cb(4),r.Rc("",r.pc(19,46,"MSG000251.descricao"),":"),r.Cb(2),r.tc("placeholder",r.pc(21,48,"MSG000251.descricao")),r.Cb(4),r.Rc("",r.pc(25,50,"MSG000252.descricao"),":"),r.Cb(2),r.tc("placeholder",r.pc(27,52,"MSG000252.descricao")),r.Cb(5),r.Rc("",r.pc(32,54,"MSG000254.descricao"),":"),r.Cb(2),r.tc("placeholder",r.pc(34,56,"MSG000254.descricao")),r.Cb(4),r.Rc("",r.pc(38,58,"MSG000236.descricao"),":"),r.Cb(2),r.tc("items",t.tipoList)("placeholder",r.pc(40,60,"MSG000236.descricao")),r.Cb(4),r.Rc("",r.pc(44,62,"MSG000159.descricao"),":"),r.Cb(2),r.tc("items",t.statusList)("allowClear",!0)("placeholder",r.pc(46,64,"MSG000159.descricao")),r.Cb(5),r.Rc("",r.pc(51,66,"MSG000242.descricao"),":"),r.Cb(2),r.tc("items",t.unidadeFederativasList)("placeholder",r.pc(53,68,"MSG000242.descricao")),r.Cb(4),r.Rc("",r.pc(57,70,"MSG000241.descricao"),":"),r.Cb(2),r.tc("disabled",!t.cidadeList.length)("items",t.cidadeList)("placeholder",r.pc(59,72,"MSG000241.descricao")),r.Cb(4),r.Rc("",r.pc(63,74,"MSG000240.descricao"),":"),r.Cb(2),r.tc("placeholder",r.pc(65,76,"MSG000240.descricao")),r.Cb(5),r.Rc("",r.pc(70,78,"MSG000161.descricao"),":"),r.Cb(3),r.tc("placeholder",r.pc(73,80,"MSG000179.descricao")),r.Cb(5),r.tc("placeholder",r.pc(78,82,"MSG000180.descricao")),r.Cb(3),r.Qc(r.pc(81,84,"MSG000188.descricao")),r.Cb(4),r.Rc("",r.pc(85,86,"MSG000160.descricao"),":"),r.Cb(3),r.tc("placeholder",r.pc(88,88,"MSG000179.descricao")),r.Cb(5),r.tc("placeholder",r.pc(93,90,"MSG000180.descricao")),r.Cb(3),r.Qc(r.pc(96,92,"MSG000188.descricao")),r.Cb(9),r.Qc(r.pc(105,94,"MSG000176.descricao")),r.Cb(7),r.Qc(r.pc(112,96,"MSG000014.descricao")),r.Cb(5),r.tc("gridService",t.grid))},directives:[$.a,b.H,b.s,b.j,b.c,b.r,b.i,G.a,b.x,M.a,_.a],pipes:[o.d],styles:[""]}),e})();var q=a("O4ag");class Q extends q.a{}function D(e,t){1&e&&(r.Xb(0,"div",38),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Qc(r.pc(3,1,"MSG000073.descricao")))}function B(e,t){if(1&e&&(r.Xb(0,"div",38),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.cep)}}function V(e,t){1&e&&(r.Xb(0,"div",38),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Qc(r.pc(3,1,"MSG000073.descricao")))}function Z(e,t){if(1&e&&(r.Xb(0,"div",38),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.titulo)}}function Y(e,t){1&e&&(r.Xb(0,"div",38),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Qc(r.pc(3,1,"MSG000073.descricao")))}function J(e,t){if(1&e&&(r.Xb(0,"div",38),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.logradouro)}}function K(e,t){1&e&&(r.Xb(0,"div",38),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Qc(r.pc(3,1,"MSG000073.descricao")))}function ee(e,t){if(1&e&&(r.Xb(0,"div",38),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.numero)}}function te(e,t){1&e&&(r.Xb(0,"div",38),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Qc(r.pc(3,1,"MSG000073.descricao")))}function ae(e,t){if(1&e&&(r.Xb(0,"div",38),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.ufId)}}function ie(e,t){1&e&&(r.Xb(0,"div",38),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Qc(r.pc(3,1,"MSG000073.descricao")))}function re(e,t){if(1&e&&(r.Xb(0,"div",38),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.municipioId)}}function se(e,t){1&e&&(r.Xb(0,"div",38),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Qc(r.pc(3,1,"MSG000073.descricao")))}function ce(e,t){if(1&e&&(r.Xb(0,"div",38),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.titulo)}}function oe(e,t){1&e&&(r.Xb(0,"div",38),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Qc(r.pc(3,1,"MSG000073.descricao")))}function ne(e,t){if(1&e&&(r.Xb(0,"div",38),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.complemento)}}function le(e,t){if(1&e){const e=r.Yb();r.Xb(0,"agm-marker",39),r.jc("dragEnd",(function(a){r.Fc(e);const i=t.$implicit;return r.nc().markerDragEnd(i,a)})),r.Wb()}if(2&e){const e=t.$implicit;r.tc("latitude",e.lat)("longitude",e.lng)("label",e.label)("markerDraggable",e.draggable)}}const be=function(e){return{"is-invalid":e}};let de=(()=>{class e extends A.a{constructor(e,t,a,i,r,s,c,o,n,l,b,d,h,u,p,m,v){super(t,r,a,c,o),this.httpClient=e,this.fb=t,this.translateService=a,this.authService=i,this.router=r,this.activeRoute=s,this.messageService=c,this.modalService=o,this.enderecoService=n,this.utilService=l,this.subheaderService=b,this.gridService=d,this.mapsApiLoader=h,this.zone=u,this.wrapper=p,this.localidadeService=m,this.bairroService=v,this.location={lat:51.678418,lng:7.809007,zoom:15},this.markers=[],this.tipoList=[],this.onApiCepComplete=!1,this.cidadeList=[],this.ufList=[],this.usuarioId=this.authService.usuarioLogadoValue.id,this.modalOptions={backdrop:"static",backdropClass:"customBackdrop"},this.mapsApiLoader=h,this.zone=u,this.wrapper=p,this.mapsApiLoader.load().then(()=>{this.geocoder=new google.maps.Geocoder})}ngOnInit(){this.translateService.get(["MSG000156.descricao","MSG000221.descricao","MSG000092.descricao","MSG000118.descricao","MSG000132.descricao","MSG000133.descricao","MSG000135.descricao","MSG000136.descricao","MSG000137.descricao","MSG000138.descricao","MSG000098.descricao","MSG000141.descricao","MSG000142.descricao","MSG000149.descricao","MSG000150.descricao","MSG000155.descricao","MSG000183.descricao","MSG000007.descricao","MSG000220.descricao"]).subscribe(e=>{this.mensagens=e,this.criarForm(),this.criarSubheader(),this.carregarPagina()})}carregarComboMunicipios(e=0){this.cidadeList=[];var t=this.form.controls.municipioId;this.localidadeService.obterMunicipios(this.form.controls.ufId.value).subscribe(a=>{a.result.sort(this.utilService.dynamicSort("nome")).forEach(e=>{this.cidadeList.push({id:e.id,text:e.nome})}),e>0&&t.setValue(e)},e=>{this.setError(e)})}carregarComboUfs(){this.localidadeService.obterEstados().subscribe(e=>{e.result.sort(this.utilService.dynamicSort("nome")).forEach(e=>{this.ufList.push({id:e.id,text:e.nome})})},e=>{this.setError(e)})}criarForm(){this.form=this.fb.group({titulo:["",b.F.compose([b.F.required,b.F.maxLength(100)])],numero:["",[b.F.required]],logradouro:["",[b.F.required]],complemento:[""],cep:["",[b.F.required]],municipioId:["",[b.F.required]],ufId:["",[b.F.required]],bairro:["",[b.F.required]],dataCriacao:[""],dataAtualizacao:[""],usuarioCriacaoId:[""],usuarioAtualizacaoId:[""]})}carregarComboTipos(){this.enderecoService.obterTipoEnderecos().subscribe(e=>{e.result.forEach(e=>{this.tipoList.push({id:e.valor,text:e.descricao})})},e=>{this.setError(e)})}carregarPagina(){this.carregarComboTipos(),this.carregarComboUfs(),this.activeRoute.params.subscribe(e=>{this.id=+e.id,this.caregarRegistro()})}criarSubheader(){this.btnSalvar={text:this.mensagens["MSG000092.descricao"],type:R.a.LIGHT_PRIMARY,click:()=>this.salvar(!1),icon:"flaticon2-writing"},this.btnSalvar.actions=[{text:this.mensagens["MSG000132.descricao"],type:R.a.LIGHT_PRIMARY,click:()=>this.salvar(!1),icon:"flaticon2-medical-records"},{text:this.mensagens["MSG000133.descricao"],type:R.a.LIGHT_PRIMARY,click:()=>this.salvar(!0),icon:"flaticon2-writing"}],this.btnExcluir={text:this.mensagens["MSG000138.descricao"],type:R.a.LIGHT_DANGER,click:()=>this.deletar(),icon:"fa fa-trash-alt icon-sm",visible:!1},this.btnInativar={text:this.mensagens["MSG000137.descricao"],type:R.a.LIGHT_DANGER,click:()=>this.ativar(),icon:"fa fa-thumbs-down icon-sm",visible:!1},this.btnAtivar={text:this.mensagens["MSG000136.descricao"],type:R.a.LIGHT_SUCCESS,click:()=>this.ativar(),icon:"fa fa-thumbs-up icon-sm",visible:!1},this.subheader.buttons=[{text:this.mensagens["MSG000155.descricao"],type:R.a.DEFAULT,click:()=>{this.router.navigate([""+j.ROTA])},icon:"fa fa-reply-all icon-sm"},this.btnExcluir,this.btnAtivar,this.btnInativar,this.btnSalvar],this.subheader.label=this.label,this.subheaderService.create(this.subheader)}atualizarStatus(){this.label.html=this.utilService.createLabelStatus(this.registroAtual.status),1==this.registroAtual.status?(this.btnInativar.visible=!0,this.btnAtivar.visible=!1):(this.btnInativar.visible=!1,this.btnAtivar.visible=!0),this.subheaderService.title=this.mensagens["MSG000118.descricao"],this.subheaderService.text=this.mensagens["MSG000135.descricao"]}caregarRegistro(){this.id?this.enderecoService.obterEnderecoId(this.usuarioId,this.id).subscribe(e=>{this.registroAtual=e.result,this.atualizarStatus(),this.btnExcluir.visible=!0,this.subheaderService.title=this.mensagens["MSG000098.descricao"],this.subheaderService.text=`${this.registroAtual.id} - ${this.registroAtual.titulo}`,this.bairroService.obterBairroId(this.registroAtual.bairroId).subscribe(e=>{this.form.controls.bairro.setValue(e.result.nome),this.form.controls.ufId.setValue(e.result.ufId),this.form.controls.municipioId.setValue(e.result.municipioId),this.carregarComboMunicipios(),this.location.lat=Number(this.registroAtual.lat),this.location.lng=Number(this.registroAtual.lng),this.markers=[],this.markers.push({lat:this.registroAtual.lat,lng:this.registroAtual.lng,label:"A",draggable:!0})}),this.form.patchValue(e.result)},e=>{this.setError(e)},()=>{}):(this.label.visible=!1,this.subheaderService.title=this.mensagens["MSG000118.descricao"],this.subheaderService.text=this.mensagens["MSG000135.descricao"])}ativar(){var e=this.registroAtual;e.status=0==this.registroAtual.status?1:0,this.enderecoService.statusEndereco(this.usuarioId,this.id,e.status).subscribe(e=>{this.messageService.create(e.message),this.registroAtual=e.result,this.atualizarStatus()},e=>{this.setError(e)})}salvar(e=!1){if(this.validar()){const t=this.form.value;let a=new Q;this.id>0&&(a.id=this.id),a.municipioId=t.municipioId,a.numero=t.numero,a.ufId=t.ufId,a.titulo=t.titulo,a.cep=t.cep,a.logradouro=t.logradouro,a.complemento=t.complemento,a.usuarioId=this.usuarioId,a.bairro=t.bairro,a.lng=this.location.lng,a.lat=this.location.lat,a.usuarioCriacaoId=t.usuarioCriacaoId,a.usuarioAtualizacaoId=t.usuarioAtualizacaoId,a.dataCriacao=t.dataCriacao,a.dataAtualizacao=t.dataAtualizacao,this.enderecoService.salvarEndereco(a).subscribe(t=>{this.messageService.create(t.message),"MSG000111"!==t.message&&"MSG000151"!==t.message||(e?(this.cancelar(),this.router.navigate([j.ROTA+"/novo"])):this.id!=t.result.id?this.router.navigate([`${j.ROTA}/${t.result.id}`]):this.ngOnInit())},e=>{this.setError(e)})}}deletar(){const e=this.modalService.open(y.a,this.modalOptions);e.componentInstance.modal={title:this.mensagens["MSG000142.descricao"],conteudo:this.mensagens["MSG000141.descricao"]},e.result.then(()=>{this.enderecoService.deletarEndereco(this.usuarioId,this.id).subscribe(e=>{this.messageService.create(e.message),"MSG000144"===e.message&&this.router.navigate([j.ROTA+"/novo"])},e=>{this.setError(e)}),this.messageService.create("MSG000144")},()=>{})}cancelar(){this.form.reset()}markerDragEnd(e,t){this.localidadeService.obterCepLatLgn(t.coords.lat,t.coords.lng).subscribe(e=>{this.onApiCepComplete=!0;var t=this.form.controls.logradouro,a=this.form.controls.ufId,i=this.form.controls.bairro;this.localidadeService.obterMunicipioId(e.result.cidade.ibge).subscribe(e=>{a.setValue(e.result.microrregiao.mesorregiao.UF.id),this.carregarComboMunicipios(e.result.id)}),t.setValue(e.result.logradouro),i.setValue(e.result.bairro),this.location.lat=Number(e.result.latitude),this.location.lng=Number(e.result.longitude),this.markers=[],this.markers.push({lat:this.location.lat,lng:this.location.lng,label:"A",draggable:!0})})}buscarCep(){var e=this.form.controls.cep;e.invalid||this.localidadeService.obterCep(e.value).subscribe(e=>{if(null==e.result.cep)this.messageService.create("MSG000255"),this.form.controls.cep.reset();else{var t=this.form.controls.logradouro,a=this.form.controls.ufId,i=this.form.controls.bairro;this.localidadeService.obterMunicipioId(e.result.cidade.ibge).subscribe(e=>{a.setValue(e.result.microrregiao.mesorregiao.UF.id),this.carregarComboMunicipios(e.result.id)}),t.setValue(e.result.logradouro),i.setValue(e.result.bairro),this.location.lat=e.result.latitude,this.location.lng=e.result.longitude,this.markers=[],this.markers.push({lat:this.location.lat,lng:this.location.lng,label:"A",draggable:!0})}})}clickedMarker(){}}return e.\u0275fac=function(t){return new(t||e)(r.Rb(v.b),r.Rb(b.f),r.Rb(o.e),r.Rb(s.a),r.Rb(i.c),r.Rb(i.a),r.Rb(F.a),r.Rb(S.t),r.Rb(O),r.Rb(H.a),r.Rb(T.a),r.Rb(U.a),r.Rb(I.e),r.Rb(r.z),r.Rb(I.d),r.Rb(z.a),r.Rb(w.a))},e.\u0275cmp=r.Lb({type:e,selectors:[["app-endereco-form"]],viewQuery:function(e,t){var a;1&e&&r.Vc(I.b,!0),2&e&&r.Bc(a=r.kc())&&(t.map=a.first)},features:[r.zb],decls:103,vars:109,consts:[[1,"row"],[1,"col-md-12"],["novalidate","novalidate",1,"form",3,"formGroup","ngSubmit","keydown.enter"],[1,"card-body"],["type","hidden","formControlName","usuarioCriacaoId"],["type","hidden","formControlName","usuarioAtualizacaoId"],["type","hidden","formControlName","dataCriacao"],["type","hidden","formControlName","dataAtualizacao"],[1,"form-group","row"],[1,"col-lg-3"],[1,"input-group"],["type","text","mask","00.000-000","formControlName","cep","autocomplete","off",1,"form-control",3,"ngClass","placeholder","change"],[1,"input-group-append"],["type","button",1,"btn","btn-primary",3,"click"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-9"],["type","text","maxlength","100","formControlName","titulo","autocomplete","off",1,"form-control",3,"disabled","ngClass","placeholder"],["type","text","formControlName","logradouro","autocomplete","off",1,"form-control",3,"ngClass","placeholder"],["type","number","formControlName","numero","autocomplete","off",1,"form-control",3,"ngClass","placeholder"],["formControlName","ufId",3,"ngClass","items","placeholder","select"],["formControlName","municipioId",3,"ngClass","disabled","items","placeholder"],["type","text","maxlength","100","formControlName","bairro","autocomplete","off",1,"form-control",3,"ngClass","placeholder"],[1,"col-lg-12"],["maxlength","100","formControlName","complemento","autocomplete","off",1,"form-control",3,"ngClass","placeholder"],["role","alert",1,"alert","alert-custom","alert-white","alert-shadow","gutter-b"],[1,"alert-icon"],[1,"svg-icon","svg-icon-primary","svg-icon-xl"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","24px","height","24px","viewBox","0 0 24 24","version","1.1"],["stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["x","0","y","0","width","24","height","24"],["d","M7.07744993,12.3040451 C7.72444571,13.0716094 8.54044565,13.6920474 9.46808594,14.1079953 L5,23 L4.5,18 L7.07744993,12.3040451 Z M14.5865511,14.2597864 C15.5319561,13.9019016 16.375416,13.3366121 17.0614026,12.6194459 L19.5,18 L19,23 L14.5865511,14.2597864 Z M12,3.55271368e-14 C12.8284271,3.53749572e-14 13.5,0.671572875 13.5,1.5 L13.5,4 L10.5,4 L10.5,1.5 C10.5,0.671572875 11.1715729,3.56793164e-14 12,3.55271368e-14 Z","fill","#000000","opacity","0.3"],["d","M12,10 C13.1045695,10 14,9.1045695 14,8 C14,6.8954305 13.1045695,6 12,6 C10.8954305,6 10,6.8954305 10,8 C10,9.1045695 10.8954305,10 12,10 Z M12,13 C9.23857625,13 7,10.7614237 7,8 C7,5.23857625 9.23857625,3 12,3 C14.7614237,3 17,5.23857625 17,8 C17,10.7614237 14.7614237,13 12,13 Z","fill","#000000","fill-rule","nonzero"],[1,"alert-text"],[3,"latitude","longitude","zoom","disableDefaultUI","zoomControl","fitBounds","zoomChange","fitBoundsChange"],[3,"latitude","longitude","label","markerDraggable","dragEnd",4,"ngFor","ngForOf"],[1,"card-footer","bg-gray-100"],["type","reset","id","kt_reset",1,"btn","btn-secondary","btn-secondary--icon",3,"click"],[1,"la","la-close"],[1,"invalid-feedback"],[3,"latitude","longitude","label","markerDraggable","dragEnd"]],template:function(e,t){1&e&&(r.Xb(0,"div",0),r.Xb(1,"div",1),r.Xb(2,"app-card"),r.Xb(3,"form",2),r.jc("ngSubmit",(function(){return t.salvar()}))("keydown.enter",(function(){return t.salvar(),!1})),r.Xb(4,"div",3),r.Sb(5,"input",4),r.Sb(6,"input",5),r.Sb(7,"input",6),r.Sb(8,"input",7),r.Xb(9,"div",8),r.Xb(10,"div",9),r.Xb(11,"label"),r.Pc(12),r.oc(13,"translate"),r.Wb(),r.Xb(14,"div",10),r.Xb(15,"input",11),r.jc("change",(function(){return t.buscarCep()})),r.oc(16,"translate"),r.Wb(),r.Xb(17,"div",12),r.Xb(18,"button",13),r.jc("click",(function(){return t.buscarCep()})),r.Pc(19,"Pesquisar"),r.Wb(),r.Wb(),r.Wb(),r.Nc(20,D,4,3,"div",14),r.Nc(21,B,3,1,"div",14),r.Wb(),r.Xb(22,"div",15),r.Xb(23,"label"),r.Pc(24),r.oc(25,"translate"),r.Wb(),r.Sb(26,"input",16),r.oc(27,"translate"),r.Nc(28,V,4,3,"div",14),r.Nc(29,Z,3,1,"div",14),r.Wb(),r.Wb(),r.Xb(30,"div",8),r.Xb(31,"div",15),r.Xb(32,"label"),r.Pc(33),r.oc(34,"translate"),r.Wb(),r.Sb(35,"input",17),r.oc(36,"translate"),r.Nc(37,Y,4,3,"div",14),r.Nc(38,J,3,1,"div",14),r.Wb(),r.Xb(39,"div",9),r.Xb(40,"label"),r.Pc(41),r.oc(42,"translate"),r.Wb(),r.Sb(43,"input",18),r.oc(44,"translate"),r.Nc(45,K,4,3,"div",14),r.Nc(46,ee,3,1,"div",14),r.Wb(),r.Wb(),r.Xb(47,"div",8),r.Xb(48,"div",9),r.Xb(49,"label"),r.Pc(50),r.oc(51,"translate"),r.Wb(),r.Xb(52,"ngx-select",19),r.jc("select",(function(){return t.carregarComboMunicipios()})),r.oc(53,"translate"),r.Wb(),r.Nc(54,te,4,3,"div",14),r.Nc(55,ae,3,1,"div",14),r.Wb(),r.Xb(56,"div",9),r.Xb(57,"label"),r.Pc(58),r.oc(59,"translate"),r.Wb(),r.Sb(60,"ngx-select",20),r.oc(61,"translate"),r.Nc(62,ie,4,3,"div",14),r.Nc(63,re,3,1,"div",14),r.Wb(),r.Xb(64,"div",9),r.Xb(65,"label"),r.Pc(66),r.oc(67,"translate"),r.Wb(),r.Sb(68,"input",21),r.oc(69,"translate"),r.Nc(70,se,4,3,"div",14),r.Nc(71,ce,3,1,"div",14),r.Wb(),r.Wb(),r.Xb(72,"div",8),r.Xb(73,"div",22),r.Xb(74,"label"),r.Pc(75),r.oc(76,"translate"),r.Wb(),r.Sb(77,"textarea",23),r.oc(78,"translate"),r.Nc(79,oe,4,3,"div",14),r.Nc(80,ne,3,1,"div",14),r.Wb(),r.Wb(),r.Xb(81,"div",24),r.Xb(82,"div",25),r.Xb(83,"span",26),r.mc(),r.Xb(84,"svg",27),r.Xb(85,"g",28),r.Sb(86,"rect",29),r.Sb(87,"path",30),r.Sb(88,"path",31),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.lc(),r.Xb(89,"div",32),r.Xb(90,"p"),r.Pc(91),r.oc(92,"translate"),r.Wb(),r.Wb(),r.Wb(),r.Xb(93,"agm-map",33),r.jc("zoomChange",(function(e){return t.location.zoom=e}))("fitBoundsChange",(function(e){return t.location.viewport=e})),r.Nc(94,le,1,4,"agm-marker",34),r.Wb(),r.Wb(),r.Xb(95,"div",35),r.Xb(96,"button",36),r.jc("click",(function(){return t.cancelar()})),r.oc(97,"translate"),r.Xb(98,"span"),r.Sb(99,"i",37),r.Xb(100,"span"),r.Pc(101),r.oc(102,"translate"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&e&&(r.Cb(3),r.tc("formGroup",t.form),r.Cb(9),r.Rc("",r.pc(13,55,"MSG000251.descricao"),":"),r.Cb(3),r.tc("ngClass",r.xc(93,be,t.isControlInvalid("cep")))("placeholder",r.pc(16,57,"MSG000251.descricao")),r.Cb(5),r.tc("ngIf",t.isControlHasError("cep","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("cep","error")),r.Cb(3),r.Rc("",r.pc(25,59,"MSG000250.descricao"),":"),r.Cb(2),r.tc("disabled",!1)("ngClass",r.xc(95,be,t.isControlInvalid("titulo")))("placeholder",r.pc(27,61,"MSG000250.descricao")),r.Cb(2),r.tc("ngIf",t.isControlHasError("titulo","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("titulo","error")),r.Cb(4),r.Rc("",r.pc(34,63,"MSG000252.descricao"),":"),r.Cb(2),r.tc("ngClass",r.xc(97,be,t.isControlInvalid("logradouro")))("placeholder",r.pc(36,65,"MSG000252.descricao")),r.Cb(2),r.tc("ngIf",t.isControlHasError("logradouro","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("logradouro","error")),r.Cb(3),r.Rc("",r.pc(42,67,"MSG000246.descricao"),":"),r.Cb(2),r.tc("ngClass",r.xc(99,be,t.isControlInvalid("numero")))("placeholder",r.pc(44,69,"MSG000246.descricao")),r.Cb(2),r.tc("ngIf",t.isControlHasError("numero","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("numero","error")),r.Cb(4),r.Rc("",r.pc(51,71,"MSG000242.descricao"),":"),r.Cb(2),r.tc("ngClass",r.xc(101,be,t.isControlInvalid("ufId")))("items",t.ufList)("placeholder",r.pc(53,73,"MSG000242.descricao")),r.Cb(2),r.tc("ngIf",t.isControlHasError("ufId","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("ufId","error")),r.Cb(3),r.Rc("",r.pc(59,75,"MSG000241.descricao"),":"),r.Cb(2),r.tc("ngClass",r.xc(103,be,t.isControlInvalid("municipioId")))("disabled",!t.cidadeList.length)("items",t.cidadeList)("placeholder",r.pc(61,77,"MSG000241.descricao")),r.Cb(2),r.tc("ngIf",t.isControlHasError("municipioId","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("municipioId","error")),r.Cb(3),r.Rc("",r.pc(67,79,"MSG000240.descricao"),":"),r.Cb(2),r.tc("ngClass",r.xc(105,be,t.isControlInvalid("bairro")))("placeholder",r.pc(69,81,"MSG000240.descricao")),r.Cb(2),r.tc("ngIf",t.isControlHasError("bairro","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("bairro","error")),r.Cb(4),r.Rc("",r.pc(76,83,"MSG000253.descricao"),":"),r.Cb(2),r.tc("ngClass",r.xc(107,be,t.isControlInvalid("complemento")))("placeholder",r.pc(78,85,"MSG000253.descricao")),r.Cb(2),r.tc("ngIf",t.isControlHasError("complemento","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("complemento","error")),r.Cb(11),r.Qc(r.pc(92,87,"MSG000256.descricao")),r.Cb(2),r.tc("latitude",t.location.lat)("longitude",t.location.lng)("zoom",t.location.zoom)("disableDefaultUI",!0)("zoomControl",!0)("fitBounds",t.location.viewport),r.Cb(1),r.tc("ngForOf",t.markers),r.Cb(2),r.Db("title",r.pc(97,89,"MSG000014.descricao")),r.Cb(5),r.Qc(r.pc(102,91,"MSG000014.descricao")))},directives:[$.a,b.H,b.s,b.j,b.c,b.r,b.i,G.a,c.r,c.u,b.m,b.x,M.a,I.b,c.t,I.c],pipes:[o.d],styles:["agm-map[_ngcontent-%COMP%]{height:300px}"]}),e})();var he=a("P+ba");class ue{constructor(e,t,a,i){this.nome=e,this.email=t,this.dataNascimento=a,this.sexo=i}}var pe=a("15by");class me extends q.a{}function ve(e,t){1&e&&(r.Xb(0,"div",25),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Qc(r.pc(3,1,"MSG000073.descricao")))}function fe(e,t){if(1&e&&(r.Xb(0,"div",25),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.nome)}}function Se(e,t){1&e&&(r.Xb(0,"div",25),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Qc(r.pc(3,1,"MSG000006.descricao")))}function ge(e,t){1&e&&(r.Xb(0,"div",25),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Qc(r.pc(3,1,"MSG000005.descricao")))}function Ce(e,t){if(1&e&&(r.Xb(0,"div",25),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.email)}}function Ge(e,t){1&e&&(r.Xb(0,"div",25),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Qc(r.pc(3,1,"MSG000073.descricao")))}function Me(e,t){if(1&e&&(r.Xb(0,"div",25),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.email)}}function Xe(e,t){1&e&&(r.Xb(0,"div",25),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Qc(r.pc(3,1,"MSG000073.descricao")))}function We(e,t){if(1&e&&(r.Xb(0,"div",25),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.dataNascimento)}}const Ie=function(e){return{"background-image":e}},xe=function(e){return{"is-invalid":e}};let Re=(()=>{class e extends A.a{constructor(e,t,a,i,r,s,c,o,n,l){super(e,i,t,s,c),this.fb=e,this.translateService=t,this.authService=a,this.router=i,this.activeRoute=r,this.messageService=s,this.modalService=c,this.perfilService=o,this.utilService=n,this.subheaderService=l,this.sexoList=[],this.modal={title:'<i class="la la-photo icon-lg"></i> Alterar Avatar'}}ngOnInit(){this.avatar=new me,this.modalOptions={backdrop:"static",backdropClass:"customBackdrop",size:"lg"},this.msgsError=[],this.translateService.get(["MSG000092.descricao","MSG000113.descricao","MSG000119.descricao"]).subscribe(e=>{this.mensagens=e,this.avatar.id=this.getUsuarioLogado.arquivoId,this.avatar.caminho=this.getUsuarioLogado.arquivoCaminho,this.criarForm(),this.criarSubheader(),this.carregarPagina()})}get getUsuarioLogado(){return this.authService.usuarioLogadoValue}onCropImageClick(){const e=this.modalService.open(pe.a,this.modalOptions);e.componentInstance.modal=this.modal,e.result.then(e=>{var t=e.result[0];this.avatar.id=t.id,this.avatar.caminho=t.caminho,this.salvar()},()=>{})}criarForm(){this.form=this.fb.group({nome:["",b.F.compose([b.F.required,b.F.minLength(3),b.F.maxLength(100)])],email:["",b.F.compose([b.F.required,b.F.email])],dataNascimento:["",b.F.compose([b.F.required])],sexo:["",b.F.compose([b.F.required])]})}carregarPagina(){this.sexoList=[],this.perfilService.obterSexo().subscribe(e=>{e.result.forEach(e=>{this.sexoList.push({id:e.valor,text:e.descricao})})},e=>{this.setError(e)}),this.perfilService.obterPerfil().subscribe(e=>{this.messageService.create(e.message),e.result.dataNascimento=this.utilService.getDateObject(e.result.dataNascimento),this.form.patchValue(e.result)},e=>{this.setError(e)})}addressSearchChanged(e){}criarSubheader(){this.subheader={title:this.mensagens["MSG000113.descricao"],buttons:[{text:this.mensagens["MSG000092.descricao"],type:R.a.LIGHT_SUCCESS,click:()=>this.salvar(),icon:"fa fa-check"}],label:this.label},this.subheaderService.create(this.subheader)}salvar(){if(this.validar()){const e=this.form.value;let t=new ue(e.nome,e.email,this.utilService.getDateString(e.dataNascimento),e.sexo);t.arquivoId=this.avatar.id,this.perfilService.atualizarPerfil(t).subscribe(e=>{if("MSG000111"===e.message){var t=e.result,a=this.authService.usuarioLogadoValue;a.nome=t.nome,a.email=t.email,a.arquivoId=this.avatar.id,a.arquivoCaminho=this.avatar.caminho,this.authService.setUsuarioLogado(a)}this.messageService.create(e.message)},e=>{this.setError(e)})}}}return e.ROTA="/admin/perfil/informacao-pessoal",e.\u0275fac=function(t){return new(t||e)(r.Rb(b.f),r.Rb(o.e),r.Rb(s.a),r.Rb(i.c),r.Rb(i.a),r.Rb(F.a),r.Rb(S.t),r.Rb(f),r.Rb(H.a),r.Rb(T.a))},e.\u0275cmp=r.Lb({type:e,selectors:[["app-informacao-pessoal"]],features:[r.zb],decls:64,vars:57,consts:[[1,"flex-row-fluid","ml-lg-8"],[1,"card","card-custom","card-stretch"],["novalidate","novalidate","id","kt_login_signin_form",1,"form",3,"formGroup","ngSubmit","keydown.enter"],[1,"card-body"],[1,"row"],[1,"col-xl-3"],[1,"col-lg-9","col-xl-6"],[1,"font-weight-bold","mb-6"],[1,"form-group","row"],[1,"col-xl-3","col-lg-3","col-form-label","text-right"],["id","kt_profile_avatar",1,"image-input","image-input-outline",2,"background-image","url(assets/media/users/blank.png)"],[1,"image-input-wrapper",3,"ngStyle"],["data-action","change","title","Alterar Avatar",1,"btn","btn-xs","btn-icon","btn-circle","btn-white","btn-hover-text-primary","btn-shadow",3,"click"],[1,"fa","fa-pen","icon-sm","text-muted"],[1,"form-text","text-muted"],["type","text","formControlName","nome","autocomplete","off",1,"form-control","form-control-lg","form-control-solid",3,"ngClass","placeholder"],["class","invalid-feedback",4,"ngIf"],["type","email","formControlName","email","autocomplete","off",1,"form-control","form-control-lg","form-control-solid",3,"ngClass","placeholder"],["formControlName","sexo",3,"items","allowClear","placeholder","searchChange"],[1,"input-group","mb-3"],["type","text","ngbDatepicker","","req","","formControlName","dataNascimento","autocomplete","off",1,"form-control","form-control-lg","form-control-solid",3,"ngClass","placeholder"],["d","ngbDatepicker"],[1,"input-group-append"],["href","javascript:;",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-calendar"],[1,"invalid-feedback"]],template:function(e,t){if(1&e){const e=r.Yb();r.Xb(0,"div",0),r.Xb(1,"div",1),r.Xb(2,"form",2),r.jc("ngSubmit",(function(){return t.salvar()}))("keydown.enter",(function(){return t.salvar(),!1})),r.Xb(3,"div",3),r.Xb(4,"div",4),r.Sb(5,"label",5),r.Xb(6,"div",6),r.Xb(7,"h5",7),r.Pc(8),r.oc(9,"translate"),r.Wb(),r.Wb(),r.Wb(),r.Xb(10,"div",8),r.Xb(11,"label",9),r.Pc(12),r.oc(13,"translate"),r.Wb(),r.Xb(14,"div",6),r.Xb(15,"div",10),r.Sb(16,"div",11),r.Xb(17,"label",12),r.jc("click",(function(){return t.onCropImageClick()})),r.Sb(18,"i",13),r.Wb(),r.Wb(),r.Xb(19,"span",14),r.Pc(20),r.oc(21,"translate"),r.Wb(),r.Wb(),r.Wb(),r.Xb(22,"div",8),r.Xb(23,"label",9),r.Pc(24),r.oc(25,"translate"),r.Wb(),r.Xb(26,"div",6),r.Sb(27,"input",15),r.oc(28,"translate"),r.Nc(29,ve,4,3,"div",16),r.Nc(30,fe,3,1,"div",16),r.Wb(),r.Wb(),r.Xb(31,"div",8),r.Xb(32,"label",9),r.Pc(33),r.oc(34,"translate"),r.Wb(),r.Xb(35,"div",6),r.Sb(36,"input",17),r.oc(37,"translate"),r.Nc(38,Se,4,3,"div",16),r.Nc(39,ge,4,3,"div",16),r.Nc(40,Ce,3,1,"div",16),r.Wb(),r.Wb(),r.Xb(41,"div",8),r.Xb(42,"label",9),r.Pc(43),r.oc(44,"translate"),r.Wb(),r.Xb(45,"div",6),r.Xb(46,"ngx-select",18),r.jc("searchChange",(function(e){return t.addressSearchChanged(e)})),r.oc(47,"translate"),r.Wb(),r.Nc(48,Ge,4,3,"div",16),r.Nc(49,Me,3,1,"div",16),r.Wb(),r.Wb(),r.Xb(50,"div",8),r.Xb(51,"label",9),r.Pc(52),r.oc(53,"translate"),r.Wb(),r.Xb(54,"div",6),r.Xb(55,"div",19),r.Sb(56,"input",20,21),r.oc(58,"translate"),r.Xb(59,"div",22),r.Xb(60,"a",23),r.jc("click",(function(){return r.Fc(e),r.Cc(57).toggle()})),r.Sb(61,"i",24),r.Wb(),r.Wb(),r.Wb(),r.Nc(62,Xe,4,3,"div",16),r.Nc(63,We,3,1,"div",16),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()}2&e&&(r.Cb(2),r.tc("formGroup",t.form),r.Cb(6),r.Qc(r.pc(9,27,"MSG000093.descricao")),r.Cb(4),r.Qc(r.pc(13,29,"MSG000094.descricao")),r.Cb(4),r.tc("ngStyle",r.xc(49,Ie,"url("+t.getUsuarioLogado.arquivoCaminho+")")),r.Cb(4),r.Qc(r.pc(21,31,"MSG000095.descricao")),r.Cb(4),r.Qc(r.pc(25,33,"MSG000017.descricao")),r.Cb(3),r.tc("ngClass",r.xc(51,xe,t.isControlInvalid("nome")))("placeholder",r.pc(28,35,"MSG000017.descricao")),r.Cb(2),r.tc("ngIf",t.isControlHasError("nome","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("nome","error")),r.Cb(3),r.Qc(r.pc(34,37,"MSG000003.descricao")),r.Cb(3),r.tc("ngClass",r.xc(53,xe,t.isControlInvalid("email")))("placeholder",r.pc(37,39,"MSG000003.descricao")),r.Cb(2),r.tc("ngIf",t.isControlHasError("email","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("email","email")),r.Cb(1),r.tc("ngIf",t.isControlHasError("email","error")),r.Cb(3),r.Qc(r.pc(44,41,"MSG000117.descricao")),r.Cb(3),r.tc("items",t.sexoList)("allowClear",!0)("placeholder",r.pc(47,43,"MSG000119.descricao")),r.Cb(2),r.tc("ngIf",t.isControlHasError("sexo","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("sexo","error")),r.Cb(3),r.Qc(r.pc(53,45,"MSG000096.descricao")),r.Cb(4),r.tc("ngClass",r.xc(55,xe,t.isControlInvalid("dataNascimento")))("placeholder",r.pc(58,47,"MSG000096.descricao")),r.Cb(6),r.tc("ngIf",t.isControlHasError("dataNascimento","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("dataNascimento","error")))},directives:[b.H,b.s,b.j,c.x,b.c,b.r,b.i,c.r,c.u,M.a,S.s],pipes:[o.d],styles:[""]}),e})();var Ae=a("Dfp+");class ye{constructor(e,t,a){this.senhaAtual=e,this.novaSenha=t,this.confirmarNovaSenha=a}}const Ee=function(){return{value:"strong"}};function Le(e,t){1&e&&(r.Xb(0,"div",15),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Rc("",r.qc(3,1,"MSG000073.descricao",r.wc(4,Ee))," "))}const Pe=function(e){return{value:e}};function ke(e,t){if(1&e&&(r.Xb(0,"div",15),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Rc(" ",r.qc(3,1,"MSG000121.descricao",r.xc(4,Pe,e.qtdCaracters))," ")}}function we(e,t){if(1&e&&(r.Xb(0,"div",15),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.senhaAtual)}}function Ne(e,t){1&e&&(r.Xb(0,"div",15),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Rc("",r.qc(3,1,"MSG000073.descricao",r.wc(4,Ee))," "))}function Fe(e,t){if(1&e&&(r.Xb(0,"div",15),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Rc(" ",r.qc(3,1,"MSG000123.descricao",r.xc(4,Pe,e.qtdCaracters))," ")}}function Oe(e,t){if(1&e&&(r.Xb(0,"div",15),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.senha)}}function He(e,t){1&e&&(r.Xb(0,"div",15),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Rc("",r.qc(3,1,"MSG000073.descricao",r.wc(4,Ee))," "))}function Te(e,t){if(1&e&&(r.Xb(0,"div",15),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Rc(" ",r.qc(3,1,"MSG000125.descricao",r.xc(4,Pe,e.qtdCaracters))," ")}}function Ue(e,t){1&e&&(r.Xb(0,"div",15),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Qc(r.pc(3,1,"MSG000022.descricao")))}function ze(e,t){if(1&e&&(r.Xb(0,"div",15),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.confirmarSenha)}}const $e=function(e){return{"is-invalid":e}};let _e=(()=>{class e extends A.a{constructor(e,t,a,i,r,s,c,o,n,l){super(e,i,t,s,c),this.fb=e,this.translateService=t,this.authService=a,this.router=i,this.activeRoute=r,this.messageService=s,this.modalService=c,this.perfilService=o,this.utilService=n,this.subheaderService=l,this.qtdCaracters=6}ngOnInit(){this.msgsError=[],this.translateService.get(["MSG000092.descricao","MSG000113.descricao","MSG000119.descricao"]).subscribe(e=>{this.mensagens=e,this.criarForm(),this.criarSubheader(),this.carregarPagina()})}criarForm(){this.form=this.fb.group({senhaAtual:["",b.F.compose([b.F.required,b.F.minLength(this.qtdCaracters),b.F.maxLength(this.qtdCaracters)])],senha:["",b.F.compose([b.F.required,b.F.minLength(this.qtdCaracters),b.F.maxLength(this.qtdCaracters)])],confirmarSenha:["",b.F.compose([b.F.required,b.F.minLength(this.qtdCaracters),b.F.maxLength(this.qtdCaracters)])]},{validator:[Ae.a]})}carregarPagina(){}criarSubheader(){this.subheader={title:this.mensagens["MSG000113.descricao"],buttons:[{text:this.mensagens["MSG000092.descricao"],type:R.a.SUCCESS,click:()=>this.salvar(),icon:"fa fa-check"}],label:this.label},this.subheaderService.create(this.subheader)}alterarSenha(){}salvar(){if(this.validar()){const e=this.form.value,t=new ye(e.senhaAtual,e.senha,e.confirmarSenha);this.perfilService.alterarSenha(t).subscribe(e=>{this.messageService.create(e.message),"MSG000127"==e.message&&this.form.reset()},e=>{this.setError(e)})}}}return e.ROTA="/admin/perfil/alterar-senha",e.\u0275fac=function(t){return new(t||e)(r.Rb(b.f),r.Rb(o.e),r.Rb(s.a),r.Rb(i.c),r.Rb(i.a),r.Rb(F.a),r.Rb(S.t),r.Rb(f),r.Rb(H.a),r.Rb(T.a))},e.\u0275cmp=r.Lb({type:e,selectors:[["app-alterar-senha"]],features:[r.zb],decls:43,vars:47,consts:[[1,"flex-row-fluid","ml-lg-8"],[1,"card","card-custom"],[1,"card-header","py-3"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","font-weight-bolder","text-dark"],[1,"text-muted","font-weight-bold","font-size-sm","mt-1"],["novalidate","novalidate","id","kt_login_signin_form",1,"form",3,"formGroup","ngSubmit","keydown.enter"],[1,"card-body"],[1,"form-group","row"],[1,"col-xl-3","col-lg-3","col-form-label","text-alert"],[1,"col-lg-9","col-xl-6"],["type","password","formControlName","senhaAtual",1,"form-control","form-control-lg","form-control-solid","mb-2",3,"maxlength","ngClass","placeholder"],["class","invalid-feedback",4,"ngIf"],["type","password","formControlName","senha",1,"form-control","form-control-lg","form-control-solid","mb-2",3,"maxlength","ngClass","placeholder"],["type","password","formControlName","confirmarSenha",1,"form-control","form-control-lg","form-control-solid","mb-2",3,"maxlength","ngClass","placeholder"],[1,"invalid-feedback"]],template:function(e,t){1&e&&(r.Xb(0,"div",0),r.Xb(1,"div",1),r.Xb(2,"div",2),r.Xb(3,"div",3),r.Xb(4,"h3",4),r.Pc(5),r.oc(6,"translate"),r.Wb(),r.Xb(7,"span",5),r.Pc(8),r.oc(9,"translate"),r.Wb(),r.Wb(),r.Wb(),r.Xb(10,"form",6),r.jc("ngSubmit",(function(){return t.salvar()}))("keydown.enter",(function(){return t.salvar(),!1})),r.Xb(11,"div",7),r.Xb(12,"div",8),r.Xb(13,"label",9),r.Pc(14),r.oc(15,"translate"),r.Wb(),r.Xb(16,"div",10),r.Sb(17,"input",11),r.oc(18,"translate"),r.Nc(19,Le,4,5,"div",12),r.Nc(20,ke,4,6,"div",12),r.Nc(21,we,3,1,"div",12),r.Wb(),r.Wb(),r.Xb(22,"div",8),r.Xb(23,"label",9),r.Pc(24),r.oc(25,"translate"),r.Wb(),r.Xb(26,"div",10),r.Sb(27,"input",13),r.oc(28,"translate"),r.Nc(29,Ne,4,5,"div",12),r.Nc(30,Fe,4,6,"div",12),r.Nc(31,Oe,3,1,"div",12),r.Wb(),r.Wb(),r.Xb(32,"div",8),r.Xb(33,"label",9),r.Pc(34),r.oc(35,"translate"),r.Wb(),r.Xb(36,"div",10),r.Sb(37,"input",14),r.oc(38,"translate"),r.Nc(39,He,4,5,"div",12),r.Nc(40,Te,4,6,"div",12),r.Nc(41,Ue,4,3,"div",12),r.Nc(42,ze,3,1,"div",12),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&e&&(r.Cb(5),r.Qc(r.pc(6,25,"MSG000089.descricao")),r.Cb(3),r.Qc(r.pc(9,27,"MSG000100.descricao")),r.Cb(2),r.tc("formGroup",t.form),r.Cb(4),r.Qc(r.pc(15,29,"MSG000102.descricao")),r.Cb(3),r.uc("maxlength",t.qtdCaracters),r.tc("ngClass",r.xc(41,$e,t.isControlInvalid("senhaAtual")))("placeholder",r.pc(18,31,"MSG000102.descricao")),r.Cb(2),r.tc("ngIf",t.isControlHasError("senhaAtual","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("senhaAtual","minlength")||t.isControlHasError("senhaAtual","maxlength")),r.Cb(1),r.tc("ngIf",t.isControlHasError("senhaAtual","error")),r.Cb(3),r.Qc(r.pc(25,33,"MSG000103.descricao")),r.Cb(3),r.uc("maxlength",t.qtdCaracters),r.tc("ngClass",r.xc(43,$e,t.isControlInvalid("senha")))("placeholder",r.pc(28,35,"MSG000103.descricao")),r.Cb(2),r.tc("ngIf",t.isControlHasError("senha","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("senha","minlength")||t.isControlHasError("senha","maxlength")),r.Cb(1),r.tc("ngIf",t.isControlHasError("senha","error")),r.Cb(3),r.Qc(r.pc(35,37,"MSG000104.descricao")),r.Cb(3),r.uc("maxlength",t.qtdCaracters),r.tc("ngClass",r.xc(45,$e,t.isControlInvalid("confirmarSenha")))("placeholder",r.pc(38,39,"MSG000104.descricao")),r.Cb(2),r.tc("ngIf",t.isControlHasError("confirmarSenha","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("confirmarSenha","minlength")||t.isControlHasError("confirmarSenha","maxlength")),r.Cb(1),r.tc("ngIf",null==t.form.errors?null:t.form.errors.senhaMismatch),r.Cb(1),r.tc("ngIf",t.isControlHasError("confirmarSenha","error")))},directives:[b.H,b.s,b.j,b.c,b.r,b.i,b.m,c.r,c.u],pipes:[o.d],styles:[""]}),e})(),je=(()=>{class e extends m.a{constructor(e){super(e),this.http=e,this.httpHeaders=new v.d,this.httpHeaders=this.httpHeaders.set("Content-Type","application/json")}salvarTelefone(e){return e.id>0?this.atualizarTelefone(e):this.adicionarTelefone(e)}adicionarTelefone(e){return this.http.post(`${h.a.apiUrl}/${k.a.API_USUARIOS}/${e.usuarioId}/telefones`,e,{headers:this.httpHeaders}).pipe(Object(u.a)(e=>e))}deletarTelefone(e,t){return this.http.delete(`${h.a.apiUrl}/${k.a.API_USUARIOS}/${e}/telefones`,{headers:this.httpHeaders,body:t}).pipe(Object(u.a)(e=>e))}obterTelefoneId(e,t){return this.http.get(`${h.a.apiUrl}/${k.a.API_USUARIOS}/${e}/telefones/${t}`).pipe(Object(u.a)(e=>e))}statusTelefone(e,t,a){return this.http.patch(`${h.a.apiUrl}/${k.a.API_USUARIOS}/${e}/telefones/${t}/status`,a,{headers:this.httpHeaders}).pipe(Object(u.a)(e=>e))}atualizarTelefone(e){return this.http.put(`${h.a.apiUrl}/${k.a.API_USUARIOS}/${e.usuarioId}/telefones/${e.id}`,e,{headers:this.httpHeaders}).pipe(Object(u.a)(e=>e))}obterTelefones(e){return this.http.get(`${h.a.apiUrl}/${k.a.API_USUARIOS}/${e}/telefones`).pipe(Object(u.a)(e=>e))}obterTotalTelefones(e){return this.http.get(`${h.a.apiUrl}/${k.a.API_USUARIOS}/${e}/telefones/total`).pipe(Object(u.a)(e=>e))}}return e.API_TELEFONE="api/v1/telefones",e.\u0275fac=function(t){return new(t||e)(r.fc(v.b))},e.\u0275prov=r.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),qe=(()=>{class e extends A.a{constructor(e,t,a,i,r,s,c,o,n,l,b,d,h){super(t,r,a,o,n,b),this.toastService=e,this.fb=t,this.translateService=a,this.authService=i,this.router=r,this.route=s,this.activeRoute=c,this.messageService=o,this.modalService=n,this.telefoneService=l,this.utilService=b,this.subheaderService=d,this.gridService=h,this.statusList=[],this.tipoList=[],this.usuarioId=this.authService.usuarioLogadoValue.id}carregarComboStatus(){this.telefoneService.obterStatus().subscribe(e=>{e.result.forEach(e=>{this.statusList.push({id:e.valor,text:e.descricao})})},e=>{this.setError(e)})}carregarComboTipos(){this.telefoneService.obterTipoTelefones().subscribe(e=>{e.result.forEach(e=>{this.tipoList.push({id:e.valor,text:e.descricao})})},e=>{this.setError(e)})}criarForm(){this.form=this.fb.group({telefoneId:[""],ddd:[""],numero:[""],nome:[""],tipo:[""],status:[""],dataCriacaoInicial:[""],dataCriacaoFinal:[""],dataAtualizacaoInicial:[""],dataAtualizacaoFinal:[""]})}ngOnInit(){this.modalOptions={backdrop:"static",backdropClass:"customBackdrop"},this.translateService.get(["MSG000017.descricao","MSG000154.descricao","MSG000142.descricao","MSG000141.descricao","MSG000136.descricao","MSG000137.descricao","MSG000138.descricao","MSG000150.descricao","MSG000149.descricao","MSG000156.descricao","MSG000159.descricao","MSG000160.descricao","MSG000161.descricao","MSG000162.descricao","MSG000243.descricao","MSG000175.descricao","MSG000176.descricao","MSG000117.descricao","MSG000204.descricao","MSG000205.descricao","MSG000212.descricao","MSG000213.descricao","MSG000246.descricao","MSG000245.descricao","MSG000236.descricao"]).subscribe(e=>{this.mensagens=e,this.criarForm(),this.criarSubheader(),this.carregarPagina()})}filtroAvancado(){var e=this.utilService.validarDataInicialFinal(this.form,"dataCriacaoInicial","dataCriacaoFinal"),t=this.utilService.validarDataInicialFinal(this.form,"dataAtualizacaoInicial","dataAtualizacaoFinal");e&&t?this.filtrarGrid(this.gridService):this.messageService.create(e?"MSG000187":"MSG000186")}criarSubheader(){var t={text:this.mensagens["MSG000154.descricao"],type:R.a.LIGHT_SUCCESS,click:()=>{this.router.navigate([e.ROTA+"/novo"])},icon:"fa fa-plus icon-sm"};this.btnExcluir={text:this.mensagens["MSG000138.descricao"],type:R.a.LIGHT_DANGER,click:()=>{this.deletar(this.gridService.gridDirective.itensSelecionados)},icon:"fa fa-trash-alt icon-sm",visible:!1},this.btnInativar={text:this.mensagens["MSG000137.descricao"],type:R.a.LIGHT_DANGER,click:()=>this.ativar(this.gridService.gridDirective.itensSelecionados),icon:"fa fa-thumbs-down icon-sm",visible:!1},this.btnAtivar={text:this.mensagens["MSG000136.descricao"],type:R.a.LIGHT_SUCCESS,click:()=>this.ativar(this.gridService.gridDirective.itensSelecionados),icon:"fa fa-thumbs-up icon-sm",visible:!1},this.subheader.buttons=[this.btnAtivar,this.btnInativar,this.btnExcluir,t],this.subheader.title=this.mensagens["MSG000243.descricao"],this.subheader.text=this.mensagens["MSG000176.descricao"],this.subheader.label=this.label,this.subheaderService.create(this.subheader)}carregarPagina(){this.editarGridBtn={icon:"flaticon2-edit icon-nm",type:R.a.LIGHT_PRIMARY,visible:!0,title:this.mensagens["MSG000175.descricao"],permission:["telefone.cadastrar","telefone.atualizar"],click:t=>this.router.navigate([`${e.ROTA}/${t.id}`])},this.excluirGridBtn={icon:"fa fa-trash icon-nm",type:R.a.LIGHT_DANGER,title:this.mensagens["MSG000138.descricao"],visible:!0,permission:["telefone.cadastrar","telefone.atualizar"],click:e=>this.deletar([e])},this.carregarComboStatus(),this.carregarComboTipos();var t=new Object;t.apiServiceHttp=`${h.a.apiUrl}/${k.a.API_USUARIOS}/${this.usuarioId}/telefones${window.location.search}`,t.orderBy="telefoneId",t.orderType="desc",t.columns=[{field:"telefoneId",fakeField:"id",label:this.mensagens["MSG000156.descricao"],sortable:!0},{field:"nome",label:this.mensagens["MSG000017.descricao"],sortable:!0},{field:"ddd",label:this.mensagens["MSG000245.descricao"],sortable:!0},{field:"numero",label:this.mensagens["MSG000246.descricao"],sortable:!0},{field:"tipo",fakeField:"tipoGrid",label:this.mensagens["MSG000236.descricao"],align:"center",sortable:!0},{field:"status",fakeField:"statusGrid",label:this.mensagens["MSG000159.descricao"],align:"center",sortable:!0},{field:"dataAtualizacao",label:this.mensagens["MSG000160.descricao"],align:"center",sortable:!0},{field:"dataCriacao",label:this.mensagens["MSG000161.descricao"],align:"center",sortable:!0},{label:this.mensagens["MSG000162.descricao"],align:"center",actions:[this.editarGridBtn,this.excluirGridBtn]}],t.onSelectedItem=e=>{if(this.btnExcluir.visible=e.length>0,this.btnAtivar.visible=this.btnInativar.visible=!1,e.length>0){var t=e[0];e.every(e=>e.status==t.status)&&(1==t.status?(this.btnAtivar.visible=!1,this.btnInativar.visible=!0):(this.btnAtivar.visible=!0,this.btnInativar.visible=!1))}},t.onBenforeData=e=>{var t=[];return e.forEach(e=>{var a=e;a.statusGrid=this.utilService.createLabelStatus(e.status),a.tipoGrid=this.utilService.createLabelTipoTelefone(e.tipo),t.push(a)}),t},this.grid=this.gridService,this.grid.create(t),this.grid.search()}resetGrid(){this.btnAtivar.visible=!1,this.btnInativar.visible=!1,this.btnExcluir.visible=!1,this.gridService.search()}ativar(e){var t=0==e[0].status?1:0,a=[];e.forEach(e=>{a.push(this.telefoneService.statusTelefone(e.usuarioId,e.id,t).pipe(Object(P.a)(e=>Object(E.a)(e))))}),Object(L.a)(a).subscribe(e=>{this.messageService.create(e[0].message),this.resetGrid()})}cancelar(){this.form.reset(),this.filtrarGrid(this.gridService)}deletar(e){const t=this.modalService.open(y.a,this.modalOptions);t.componentInstance.modal={title:this.mensagens["MSG000142.descricao"],conteudo:this.mensagens["MSG000141.descricao"]},t.result.then(()=>{var t=[];e.forEach(e=>{t.push(this.telefoneService.deletarTelefone(e.usuarioId,e.id).pipe(Object(P.a)(e=>Object(E.a)(e))))}),Object(L.a)(t).subscribe(e=>{var t=e.map(e=>e.status.toLowerCase()).indexOf("erro");this.messageService.create(t>-1?e[t].message:e[0].message),this.resetGrid()})},()=>{})}}return e.ROTA="/admin/perfil/telefone",e.\u0275fac=function(t){return new(t||e)(r.Rb(N.a),r.Rb(b.f),r.Rb(o.e),r.Rb(s.a),r.Rb(i.c),r.Rb(i.a),r.Rb(i.a),r.Rb(F.a),r.Rb(S.t),r.Rb(je),r.Rb(H.a),r.Rb(T.a),r.Rb(U.a))},e.\u0275cmp=r.Lb({type:e,selectors:[["app-telefone-pesquisar"]],features:[r.zb],decls:92,vars:72,consts:[["isCollapsed","false","icon","flaticon2-search","text","MSG000177.descricao","subtitle","MSG000178.descricao"],["novalidate","novalidate",3,"formGroup","keydown.enter"],[1,"card-body"],[1,"row","mb-6"],[1,"col-lg-3","mb-lg-0","mb-6"],["type","text","formControlName","telefoneId",1,"form-control","datatable-input",3,"placeholder"],["type","text","formControlName","nome",1,"form-control","datatable-input",3,"placeholder"],["type","number","formControlName","ddd",1,"form-control","datatable-input",3,"placeholder"],["type","number","formControlName","numero",1,"form-control","datatable-input",3,"placeholder"],["formControlName","tipo",3,"items","allowClear","placeholder"],["formControlName","status",3,"items","allowClear","placeholder"],[1,"row","mb-8"],[1,"col-lg-6","mb-lg-0","mb-6"],["id","kt_datepicker_5",1,"input-daterange","input-group"],["type","date","formControlName","dataCriacaoInicial","autocomplete","off",1,"form-control","form-control-lg",3,"placeholder"],[1,"input-group-append"],[1,"input-group-text"],[1,"la","la-ellipsis-h"],["type","date","formControlName","dataCriacaoFinal","autocomplete","off",1,"form-control","form-control-lg",3,"placeholder"],[1,"form-text","text-muted"],["type","date","formControlName","dataAtualizacaoInicial","autocomplete","off",1,"form-control","form-control-lg",3,"placeholder"],["type","date","formControlName","dataAtualizacaoFinal","autocomplete","off",1,"form-control","form-control-lg",3,"placeholder"],[1,"card-footer","bg-gray-100","text-left"],[1,"row"],[1,"col-md-12"],["id","kt_search",1,"btn","btn-primary","btn-primary--icon",3,"click"],[1,"la","la-search"],["id","kt_reset",1,"btn","btn-secondary","btn-secondary--icon",3,"click"],[1,"la","la-close"],[3,"gridService"]],template:function(e,t){1&e&&(r.Xb(0,"app-card",0),r.Xb(1,"form",1),r.jc("keydown.enter",(function(){return t.filtrarGrid(t.gridService),!1})),r.Xb(2,"div",2),r.Xb(3,"div",3),r.Xb(4,"div",4),r.Xb(5,"label"),r.Pc(6),r.oc(7,"translate"),r.Wb(),r.Sb(8,"input",5),r.oc(9,"translate"),r.Wb(),r.Xb(10,"div",4),r.Xb(11,"label"),r.Pc(12),r.oc(13,"translate"),r.Wb(),r.Sb(14,"input",6),r.oc(15,"translate"),r.Wb(),r.Xb(16,"div",4),r.Xb(17,"label"),r.Pc(18),r.oc(19,"translate"),r.Wb(),r.Sb(20,"input",7),r.oc(21,"translate"),r.Wb(),r.Xb(22,"div",4),r.Xb(23,"label"),r.Pc(24),r.oc(25,"translate"),r.Wb(),r.Sb(26,"input",8),r.oc(27,"translate"),r.Wb(),r.Wb(),r.Xb(28,"div",3),r.Xb(29,"div",4),r.Xb(30,"label"),r.Pc(31),r.oc(32,"translate"),r.Wb(),r.Sb(33,"ngx-select",9),r.oc(34,"translate"),r.Wb(),r.Xb(35,"div",4),r.Xb(36,"label"),r.Pc(37),r.oc(38,"translate"),r.Wb(),r.Sb(39,"ngx-select",10),r.oc(40,"translate"),r.Wb(),r.Wb(),r.Xb(41,"div",11),r.Xb(42,"div",12),r.Xb(43,"label"),r.Pc(44),r.oc(45,"translate"),r.Wb(),r.Xb(46,"div",13),r.Sb(47,"input",14),r.oc(48,"translate"),r.Xb(49,"div",15),r.Xb(50,"span",16),r.Sb(51,"i",17),r.Wb(),r.Wb(),r.Sb(52,"input",18),r.oc(53,"translate"),r.Wb(),r.Xb(54,"span",19),r.Pc(55),r.oc(56,"translate"),r.Wb(),r.Wb(),r.Xb(57,"div",12),r.Xb(58,"label"),r.Pc(59),r.oc(60,"translate"),r.Wb(),r.Xb(61,"div",13),r.Sb(62,"input",20),r.oc(63,"translate"),r.Xb(64,"div",15),r.Xb(65,"span",16),r.Sb(66,"i",17),r.Wb(),r.Wb(),r.Sb(67,"input",21),r.oc(68,"translate"),r.Wb(),r.Xb(69,"span",19),r.Pc(70),r.oc(71,"translate"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(72,"div",22),r.Xb(73,"div",23),r.Xb(74,"div",24),r.Xb(75,"button",25),r.jc("click",(function(){return t.filtroAvancado()})),r.Xb(76,"span"),r.Sb(77,"i",26),r.Xb(78,"span"),r.Pc(79),r.oc(80,"translate"),r.Wb(),r.Wb(),r.Wb(),r.Pc(81,"\xa0\xa0 "),r.Xb(82,"button",27),r.jc("click",(function(){return t.cancelar()})),r.Xb(83,"span"),r.Sb(84,"i",28),r.Xb(85,"span"),r.Pc(86),r.oc(87,"translate"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Sb(88,"br"),r.Xb(89,"app-card"),r.Xb(90,"div",2),r.Sb(91,"app-grid",29),r.Wb(),r.Wb()),2&e&&(r.Cb(1),r.tc("formGroup",t.form),r.Cb(5),r.Rc("",r.pc(7,28,"MSG000156.descricao"),":"),r.Cb(2),r.tc("placeholder",r.pc(9,30,"MSG000156.descricao")),r.Cb(4),r.Rc("",r.pc(13,32,"MSG000017.descricao"),":"),r.Cb(2),r.tc("placeholder",r.pc(15,34,"MSG000017.descricao")),r.Cb(4),r.Rc("",r.pc(19,36,"MSG000245.descricao"),":"),r.Cb(2),r.tc("placeholder",r.pc(21,38,"MSG000245.descricao")),r.Cb(4),r.Rc("",r.pc(25,40,"MSG000246.descricao"),":"),r.Cb(2),r.tc("placeholder",r.pc(27,42,"MSG000246.descricao")),r.Cb(5),r.Rc("",r.pc(32,44,"MSG000236.descricao"),":"),r.Cb(2),r.tc("items",t.tipoList)("allowClear",!0)("placeholder",r.pc(34,46,"MSG000236.descricao")),r.Cb(4),r.Rc("",r.pc(38,48,"MSG000159.descricao"),":"),r.Cb(2),r.tc("items",t.statusList)("allowClear",!0)("placeholder",r.pc(40,50,"MSG000159.descricao")),r.Cb(5),r.Rc("",r.pc(45,52,"MSG000161.descricao"),":"),r.Cb(3),r.tc("placeholder",r.pc(48,54,"MSG000179.descricao")),r.Cb(5),r.tc("placeholder",r.pc(53,56,"MSG000180.descricao")),r.Cb(3),r.Qc(r.pc(56,58,"MSG000188.descricao")),r.Cb(4),r.Rc("",r.pc(60,60,"MSG000160.descricao"),":"),r.Cb(3),r.tc("placeholder",r.pc(63,62,"MSG000179.descricao")),r.Cb(5),r.tc("placeholder",r.pc(68,64,"MSG000180.descricao")),r.Cb(3),r.Qc(r.pc(71,66,"MSG000188.descricao")),r.Cb(9),r.Qc(r.pc(80,68,"MSG000176.descricao")),r.Cb(7),r.Qc(r.pc(87,70,"MSG000014.descricao")),r.Cb(5),r.tc("gridService",t.grid))},directives:[$.a,b.H,b.s,b.j,b.c,b.r,b.i,b.x,M.a,_.a],pipes:[o.d],styles:[""]}),e})();class Qe extends q.a{}function De(e,t){1&e&&(r.Xb(0,"div",18),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Qc(r.pc(3,1,"MSG000073.descricao")))}function Be(e,t){if(1&e&&(r.Xb(0,"div",18),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.nome)}}function Ve(e,t){1&e&&(r.Xb(0,"div",18),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Qc(r.pc(3,1,"MSG000073.descricao")))}function Ze(e,t){if(1&e&&(r.Xb(0,"div",18),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.ddd)}}function Ye(e,t){1&e&&(r.Xb(0,"div",18),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Qc(r.pc(3,1,"MSG000073.descricao")))}function Je(e,t){if(1&e&&(r.Xb(0,"div",18),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.numero)}}function Ke(e,t){1&e&&(r.Xb(0,"div",18),r.Xb(1,"p"),r.Pc(2),r.oc(3,"translate"),r.Wb(),r.Wb()),2&e&&(r.Cb(2),r.Qc(r.pc(3,1,"MSG000073.descricao")))}function et(e,t){if(1&e&&(r.Xb(0,"div",18),r.Xb(1,"p"),r.Pc(2),r.Wb(),r.Wb()),2&e){const e=r.nc();r.Cb(2),r.Qc(e.msgsError.tipo)}}const tt=function(e){return{"is-invalid":e}};let at=(()=>{class e extends A.a{constructor(e,t,a,i,r,s,c,o,n,l,b,d){super(t,r,a,c,o),this.httpClient=e,this.fb=t,this.translateService=a,this.authService=i,this.router=r,this.activeRoute=s,this.messageService=c,this.modalService=o,this.telefoneService=n,this.utilService=l,this.subheaderService=b,this.gridService=d,this.tipoList=[],this.qtdCaracters=3,this.usuarioId=this.authService.usuarioLogadoValue.id,this.modalOptions={backdrop:"static",backdropClass:"customBackdrop"}}ngOnInit(){this.translateService.get(["MSG000156.descricao","MSG000221.descricao","MSG000092.descricao","MSG000118.descricao","MSG000132.descricao","MSG000133.descricao","MSG000135.descricao","MSG000136.descricao","MSG000137.descricao","MSG000138.descricao","MSG000098.descricao","MSG000141.descricao","MSG000142.descricao","MSG000149.descricao","MSG000150.descricao","MSG000155.descricao","MSG000183.descricao","MSG000007.descricao","MSG000220.descricao"]).subscribe(e=>{this.mensagens=e,this.criarForm(),this.criarSubheader(),this.carregarPagina()})}criarForm(){this.form=this.fb.group({nome:["",b.F.compose([b.F.required,b.F.maxLength(100)])],ddd:["",b.F.compose([b.F.minLength(this.qtdCaracters),b.F.maxLength(this.qtdCaracters),b.F.required])],numero:["",b.F.compose([b.F.required])],tipo:["",b.F.compose([b.F.required])],dataCriacao:[""],dataAtualizacao:[""],usuarioCriacaoId:[""],usuarioAtualizacaoId:[""]})}carregarComboTipos(){this.telefoneService.obterTipoTelefones().subscribe(e=>{e.result.forEach(e=>{this.tipoList.push({id:e.valor,text:e.descricao})})},e=>{this.setError(e)})}carregarPagina(){this.carregarComboTipos(),this.activeRoute.params.subscribe(e=>{this.id=+e.id,this.caregarRegistro()})}criarSubheader(){this.btnSalvar={text:this.mensagens["MSG000092.descricao"],type:R.a.LIGHT_PRIMARY,click:()=>this.salvar(!1),icon:"flaticon2-writing"},this.btnSalvar.actions=[{text:this.mensagens["MSG000132.descricao"],type:R.a.LIGHT_PRIMARY,click:()=>this.salvar(!1),icon:"flaticon2-medical-records"},{text:this.mensagens["MSG000133.descricao"],type:R.a.LIGHT_PRIMARY,click:()=>this.salvar(!0),icon:"flaticon2-writing"}],this.btnExcluir={text:this.mensagens["MSG000138.descricao"],type:R.a.LIGHT_DANGER,click:()=>this.deletar(),icon:"fa fa-trash-alt icon-sm",visible:!1},this.btnInativar={text:this.mensagens["MSG000137.descricao"],type:R.a.LIGHT_DANGER,click:()=>this.ativar(),icon:"fa fa-thumbs-down icon-sm",visible:!1},this.btnAtivar={text:this.mensagens["MSG000136.descricao"],type:R.a.LIGHT_SUCCESS,click:()=>this.ativar(),icon:"fa fa-thumbs-up icon-sm",visible:!1},this.subheader.buttons=[{text:this.mensagens["MSG000155.descricao"],type:R.a.DEFAULT,click:()=>{this.router.navigate([""+qe.ROTA])},icon:"fa fa-reply-all icon-sm"},this.btnExcluir,this.btnAtivar,this.btnInativar,this.btnSalvar],this.subheader.label=this.label,this.subheaderService.create(this.subheader)}atualizarStatus(){this.label.html=this.utilService.createLabelStatus(this.registroAtual.status),1==this.registroAtual.status?(this.btnInativar.visible=!0,this.btnAtivar.visible=!1):(this.btnInativar.visible=!1,this.btnAtivar.visible=!0),this.subheaderService.title=this.mensagens["MSG000118.descricao"],this.subheaderService.text=this.mensagens["MSG000135.descricao"]}caregarRegistro(){this.id?this.telefoneService.obterTelefoneId(this.usuarioId,this.id).subscribe(e=>{this.registroAtual=e.result,this.atualizarStatus(),this.btnExcluir.visible=!0,this.subheaderService.title=this.mensagens["MSG000098.descricao"],this.subheaderService.text=`${this.registroAtual.id} - ${this.registroAtual.nome}`,this.form.patchValue(e.result)},e=>{this.setError(e)},()=>{}):(this.label.visible=!1,this.subheaderService.title=this.mensagens["MSG000118.descricao"],this.subheaderService.text=this.mensagens["MSG000135.descricao"])}ativar(){var e=this.registroAtual;e.status=0==this.registroAtual.status?1:0,this.telefoneService.statusTelefone(this.usuarioId,this.id,e.status).subscribe(e=>{this.messageService.create(e.message),this.registroAtual=e.result,this.atualizarStatus()},e=>{this.setError(e)})}salvar(e=!1){if(this.validar()){const t=this.form.value;let a=new Qe;this.id>0&&(a.id=this.id),a.nome=t.nome,a.ddd=t.ddd,a.numero=t.numero,a.tipo=t.tipo,a.usuarioId=this.usuarioId,a.usuarioCriacaoId=t.usuarioCriacaoId,a.usuarioAtualizacaoId=t.usuarioAtualizacaoId,a.dataCriacao=t.dataCriacao,a.dataAtualizacao=t.dataAtualizacao,this.telefoneService.salvarTelefone(a).subscribe(t=>{this.messageService.create(t.message),"MSG000111"!==t.message&&"MSG000151"!==t.message||(e?(this.cancelar(),this.router.navigate([qe.ROTA+"/novo"])):this.id!=t.result.id?this.router.navigate([`${qe.ROTA}/${t.result.id}`]):this.ngOnInit())},e=>{this.setError(e)})}}deletar(){const e=this.modalService.open(y.a,this.modalOptions);e.componentInstance.modal={title:this.mensagens["MSG000142.descricao"],conteudo:this.mensagens["MSG000141.descricao"]},e.result.then(()=>{this.telefoneService.deletarTelefone(this.usuarioId,this.id).subscribe(e=>{this.messageService.create(e.message),"MSG000144"===e.message&&this.router.navigate([qe.ROTA+"/novo"])},e=>{this.setError(e)}),this.messageService.create("MSG000144")},()=>{})}cancelar(){this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(r.Rb(v.b),r.Rb(b.f),r.Rb(o.e),r.Rb(s.a),r.Rb(i.c),r.Rb(i.a),r.Rb(F.a),r.Rb(S.t),r.Rb(je),r.Rb(H.a),r.Rb(T.a),r.Rb(U.a))},e.\u0275cmp=r.Lb({type:e,selectors:[["app-telefone-form"]],features:[r.zb],decls:50,vars:54,consts:[[1,"row"],[1,"col-md-12"],["novalidate","novalidate",1,"form",3,"formGroup","ngSubmit","keydown.enter"],[1,"card-body"],["type","hidden","formControlName","usuarioCriacaoId"],["type","hidden","formControlName","usuarioAtualizacaoId"],["type","hidden","formControlName","dataCriacao"],["type","hidden","formControlName","dataAtualizacao"],[1,"form-group","row"],[1,"col-lg-3"],["type","text","maxlength","100","formControlName","nome","autocomplete","off",1,"form-control",3,"ngClass","placeholder"],["class","invalid-feedback",4,"ngIf"],["type","number","maxlength","3","formControlName","ddd","autocomplete","off",1,"form-control",3,"ngClass","placeholder"],["type","text","formControlName","numero","mask","0 0000-0000 || 0000-0000","autocomplete","off",1,"form-control",3,"ngClass","showMaskTyped","placeholder"],["formControlName","tipo",3,"ngClass","items","allowClear","placeholder"],[1,"card-footer","bg-gray-100"],["type","reset","id","kt_reset",1,"btn","btn-secondary","btn-secondary--icon",3,"click"],[1,"la","la-close"],[1,"invalid-feedback"]],template:function(e,t){1&e&&(r.Xb(0,"div",0),r.Xb(1,"div",1),r.Xb(2,"app-card"),r.Xb(3,"form",2),r.jc("ngSubmit",(function(){return t.salvar()}))("keydown.enter",(function(){return t.salvar(),!1})),r.Xb(4,"div",3),r.Sb(5,"input",4),r.Sb(6,"input",5),r.Sb(7,"input",6),r.Sb(8,"input",7),r.Xb(9,"div",8),r.Xb(10,"div",9),r.Xb(11,"label"),r.Pc(12),r.oc(13,"translate"),r.Wb(),r.Sb(14,"input",10),r.oc(15,"translate"),r.Nc(16,De,4,3,"div",11),r.Nc(17,Be,3,1,"div",11),r.Wb(),r.Xb(18,"div",9),r.Xb(19,"label"),r.Pc(20),r.oc(21,"translate"),r.Wb(),r.Sb(22,"input",12),r.oc(23,"translate"),r.Nc(24,Ve,4,3,"div",11),r.Nc(25,Ze,3,1,"div",11),r.Wb(),r.Xb(26,"div",9),r.Xb(27,"label"),r.Pc(28),r.oc(29,"translate"),r.Wb(),r.Sb(30,"input",13),r.oc(31,"translate"),r.Nc(32,Ye,4,3,"div",11),r.Nc(33,Je,3,1,"div",11),r.Wb(),r.Xb(34,"div",9),r.Xb(35,"label"),r.Pc(36),r.oc(37,"translate"),r.Wb(),r.Sb(38,"ngx-select",14),r.oc(39,"translate"),r.Nc(40,Ke,4,3,"div",11),r.Nc(41,et,3,1,"div",11),r.Wb(),r.Wb(),r.Wb(),r.Xb(42,"div",15),r.Xb(43,"button",16),r.jc("click",(function(){return t.cancelar()})),r.oc(44,"translate"),r.Xb(45,"span"),r.Sb(46,"i",17),r.Xb(47,"span"),r.Pc(48),r.oc(49,"translate"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&e&&(r.Cb(3),r.tc("formGroup",t.form),r.Cb(9),r.Rc("",r.pc(13,26,"MSG000017.descricao"),":"),r.Cb(2),r.tc("ngClass",r.xc(46,tt,t.isControlInvalid("nome")))("placeholder",r.pc(15,28,"MSG000017.descricao")),r.Cb(2),r.tc("ngIf",t.isControlHasError("nome","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("nome","error")),r.Cb(3),r.Rc("",r.pc(21,30,"MSG000245.descricao"),":"),r.Cb(2),r.tc("ngClass",r.xc(48,tt,t.isControlInvalid("ddd")))("placeholder",r.pc(23,32,"MSG000245.descricao")),r.Cb(2),r.tc("ngIf",t.isControlHasError("ddd","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("ddd","error")),r.Cb(3),r.Rc("",r.pc(29,34,"MSG000246.descricao"),":"),r.Cb(2),r.tc("ngClass",r.xc(50,tt,t.isControlInvalid("numero")))("showMaskTyped",!0)("placeholder",r.pc(31,36,"MSG000246.descricao")),r.Cb(2),r.tc("ngIf",t.isControlHasError("numero","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("numero","error")),r.Cb(3),r.Rc("",r.pc(37,38,"MSG000236.descricao"),":"),r.Cb(2),r.tc("ngClass",r.xc(52,tt,t.isControlInvalid("tipo")))("items",t.tipoList)("allowClear",!0)("placeholder",r.pc(39,40,"MSG000236.descricao")),r.Cb(2),r.tc("ngIf",t.isControlHasError("tipo","required")),r.Cb(1),r.tc("ngIf",t.isControlHasError("tipo","error")),r.Cb(2),r.Db("title",r.pc(44,42,"MSG000014.descricao")),r.Cb(5),r.Qc(r.pc(49,44,"MSG000014.descricao")))},directives:[$.a,b.H,b.s,b.j,b.c,b.r,b.i,b.m,c.r,c.u,b.x,G.a,M.a],pipes:[o.d],styles:[""]}),e})();const it=[{path:"",component:l,children:[{path:"",redirectTo:"informacao-pessoal",pathMatch:"full"},{path:"informacao-pessoal",canActivate:[],component:Re,data:{title:"Informa\xe7\xf5es pessoais"}},{path:"alterar-senha",canActivate:[],component:_e,data:{title:"Alterar senha"}},{path:"telefone",canActivate:[],component:qe,data:{title:"Telefones"}},{path:"telefone/novo",component:at,canActivate:[he.a],data:{title:"Novo endere\xe7o",permissoes:["usuario.adicionar"],returnUrl:window.location.pathname}},{path:"telefone/:id",component:at,canActivate:[he.a],data:{title:"Atualizar endere\xe7o",permissoes:["usuario.atualizar","usuario-obter"],returnUrl:window.location.pathname}},{path:"endereco",canActivate:[],component:j,data:{title:"Endere\xe7os"}},{path:"endereco/novo",component:de,canActivate:[he.a],data:{title:"Novo endere\xe7o",permissoes:["usuario.adicionar"],returnUrl:window.location.pathname}},{path:"endereco/:id",component:de,canActivate:[he.a],data:{title:"Atualizar endere\xe7o",permissoes:["usuario.atualizar","usuario-obter"],returnUrl:window.location.pathname}}]}];let rt=(()=>{class e{}return e.\u0275mod=r.Pb({type:e}),e.\u0275inj=r.Ob({factory:function(t){return new(t||e)},imports:[[x,i.g.forChild(it)],i.g]}),e})()}}]);